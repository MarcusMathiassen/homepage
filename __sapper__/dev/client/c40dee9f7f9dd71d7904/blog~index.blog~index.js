(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["blog~index"],{

/***/ "./src/components/p2d.svelte":
/*!***********************************!*\
  !*** ./src/components/p2d.svelte ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/internal/index.mjs");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/index.mjs");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/query */ "./src/components/utils/query.js");
/* harmony import */ var _utils_particle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/particle */ "./src/components/utils/particle.js");
/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/math */ "./src/components/utils/math.js");
/* harmony import */ var _utils_utility__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/utility */ "./src/components/utils/utility.js");
/* harmony import */ var _utils_quadtree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/quadtree */ "./src/components/utils/quadtree.js");
/* src/components/p2d.svelte generated by Svelte v3.9.2 */








const file = "src/components/p2d.svelte";

function create_fragment(ctx) {
	var h1, t0, div1, div0, p0, t1, p1, t2, b, t3, div2, p2, t4, p3, t5, div3, p4, t6, p5, t7, div4, p6, t8, p7, t9, div5, p8, t10, p9, t11;

	return {
		c: function create() {
			h1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("h1");
			t0 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("2D Collisions");
			div1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("div");
			div0 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("div");
			p0 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("Any performance issue at this point is actually from the drawing of the particles.\nIt doesnt cache the vertices, so it calculates them each frame via an immidiate mode api.");
			p1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t2 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("This is a test paragraf.");
			b = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("b");
			t3 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("I am bold");
			div2 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("div");
			p2 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t4 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("This is a info note.\nThey can be recognized by their\ngray label.");
			p3 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t5 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("Not really sure what i will use them for, but\ni needed something else that just advice.");
			div3 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("div");
			p4 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t6 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("This is an advice note.\nThey can be recognized by their\ngreen label.");
			p5 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t7 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna\naliqua. Porttitor eget dolor morbi non arcu risus. Egestas integer eget aliquet nibh praesent tristique magna sit.\nSollicitudin nibh sit amet commodo nulla. Lobortis feugiat vivamus at augue eget arcu dictum. Pellentesque pulvinar\npellentesque habitant morbi tristique senectus et netus. Nunc sed id semper risus in hendrerit gravida. Pellentesque\nmassa placerat duis ultricies. Massa tincidunt nunc pulvinar sapien et. Mauris cursus mattis molestie a iaculis at erat");
			div4 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("div");
			p6 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t8 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("This is a warning note.\nThese will be used to put emphasis on dangerous or unsafe things.\nThey can be recognized by their\norange label.\n");
			p7 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t9 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("pellentesque. Ligula ullamcorper malesuada proin libero nunc consequat interdum varius sit. Quis commodo odio aenean sed\nadipiscing diam donec. Adipiscing at in tellus integer feugiat scelerisque varius morbi enim. Bibendum at varius vel\npharetra vel turpis. Cras sed felis eget velit aliquet. Quis hendrerit dolor magna eget est. Elit ut aliquam purus sit\namet luctus venenatis. Sem viverra aliquet eget sit amet tellus cras adipiscing. Metus aliquam eleifend mi in nulla\nposuere sollicitudin. Egestas sed sed risus pretium quam.");
			div5 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("div");
			p8 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t10 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("Any performance issue at this point is actually from the drawing of the particles.\nIt doesnt cache the vertices, so it calculates them each frame via an immidiate mode api.\nIt doesnt cache the vertices, so it calculates them each frame via an immidiate mode api.");
			p9 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["element"])("p");
			t11 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["text"])("Vel risus commodo viverra maecenas accumsan. Quam pellentesque nec nam aliquam. Porttitor rhoncus dolor purus non enim\npraesent. Ac odio tempor orci dapibus ultrices in iaculis. Sit amet cursus sit amet dictum sit amet. Felis imperdiet\nproin fermentum leo. Adipiscing at in tellus integer. Amet commodo nulla facilisi nullam vehicula ipsum a arcu cursus.\nSed libero enim sed faucibus turpis in eu mi bibendum. Rhoncus urna neque viverra justo. Ultrices vitae auctor eu augue.\nTristique nulla aliquet enim tortor. Nunc non blandit massa enim nec dui nunc. Laoreet sit amet cursus sit amet dictum.\nElit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus.");
			this.h()
		},

		l: function claim(nodes) {
			h1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "H1", {}, false);
			var h1_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(h1);

			t0 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(h1_nodes, "2D Collisions");
			h1_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			div1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "DIV", { id: true }, false);
			var div1_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(div1);

			div0 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(div1_nodes, "DIV", { class: true }, false);
			var div0_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(div0);

			p0 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(div0_nodes, "P", {}, false);
			var p0_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p0);

			t1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p0_nodes, "Any performance issue at this point is actually from the drawing of the particles.\nIt doesnt cache the vertices, so it calculates them each frame via an immidiate mode api.");
			p0_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			div0_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			div1_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			p1 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "P", {}, false);
			var p1_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p1);

			t2 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p1_nodes, "This is a test paragraf.");

			b = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(p1_nodes, "B", {}, false);
			var b_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(b);

			t3 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(b_nodes, "I am bold");
			b_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			p1_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			div2 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "DIV", { class: true }, false);
			var div2_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(div2);

			p2 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(div2_nodes, "P", {}, false);
			var p2_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p2);

			t4 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p2_nodes, "This is a info note.\nThey can be recognized by their\ngray label.");
			p2_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			p3 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(div2_nodes, "P", {}, false);
			var p3_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p3);

			t5 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p3_nodes, "Not really sure what i will use them for, but\ni needed something else that just advice.");
			p3_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			div2_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			div3 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "DIV", { class: true }, false);
			var div3_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(div3);

			p4 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(div3_nodes, "P", {}, false);
			var p4_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p4);

			t6 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p4_nodes, "This is an advice note.\nThey can be recognized by their\ngreen label.");
			p4_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			div3_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			p5 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "P", {}, false);
			var p5_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p5);

			t7 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p5_nodes, "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna\naliqua. Porttitor eget dolor morbi non arcu risus. Egestas integer eget aliquet nibh praesent tristique magna sit.\nSollicitudin nibh sit amet commodo nulla. Lobortis feugiat vivamus at augue eget arcu dictum. Pellentesque pulvinar\npellentesque habitant morbi tristique senectus et netus. Nunc sed id semper risus in hendrerit gravida. Pellentesque\nmassa placerat duis ultricies. Massa tincidunt nunc pulvinar sapien et. Mauris cursus mattis molestie a iaculis at erat");
			p5_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			div4 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "DIV", { class: true }, false);
			var div4_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(div4);

			p6 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(div4_nodes, "P", {}, false);
			var p6_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p6);

			t8 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p6_nodes, "This is a warning note.\nThese will be used to put emphasis on dangerous or unsafe things.\nThey can be recognized by their\norange label.\n");
			p6_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			div4_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			p7 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "P", {}, false);
			var p7_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p7);

			t9 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p7_nodes, "pellentesque. Ligula ullamcorper malesuada proin libero nunc consequat interdum varius sit. Quis commodo odio aenean sed\nadipiscing diam donec. Adipiscing at in tellus integer feugiat scelerisque varius morbi enim. Bibendum at varius vel\npharetra vel turpis. Cras sed felis eget velit aliquet. Quis hendrerit dolor magna eget est. Elit ut aliquam purus sit\namet luctus venenatis. Sem viverra aliquet eget sit amet tellus cras adipiscing. Metus aliquam eleifend mi in nulla\nposuere sollicitudin. Egestas sed sed risus pretium quam.");
			p7_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			div5 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "DIV", { class: true }, false);
			var div5_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(div5);

			p8 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(div5_nodes, "P", {}, false);
			var p8_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p8);

			t10 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p8_nodes, "Any performance issue at this point is actually from the drawing of the particles.\nIt doesnt cache the vertices, so it calculates them each frame via an immidiate mode api.\nIt doesnt cache the vertices, so it calculates them each frame via an immidiate mode api.");
			p8_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			div5_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);

			p9 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_element"])(nodes, "P", {}, false);
			var p9_nodes = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["children"])(p9);

			t11 = Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["claim_text"])(p9_nodes, "Vel risus commodo viverra maecenas accumsan. Quam pellentesque nec nam aliquam. Porttitor rhoncus dolor purus non enim\npraesent. Ac odio tempor orci dapibus ultrices in iaculis. Sit amet cursus sit amet dictum sit amet. Felis imperdiet\nproin fermentum leo. Adipiscing at in tellus integer. Amet commodo nulla facilisi nullam vehicula ipsum a arcu cursus.\nSed libero enim sed faucibus turpis in eu mi bibendum. Rhoncus urna neque viverra justo. Ultrices vitae auctor eu augue.\nTristique nulla aliquet enim tortor. Nunc non blandit massa enim nec dui nunc. Laoreet sit amet cursus sit amet dictum.\nElit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus.");
			p9_nodes.forEach(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"]);
			this.h();
		},

		h: function hydrate() {
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(h1, file, 0, 0, 0);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p0, file, 0, 62, 62);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["attr"])(div0, "class", "comment info");
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(div0, file, 0, 36, 36);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["attr"])(div1, "id", "p2d");
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(div1, file, 0, 22, 22);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(b, file, 1, 132, 280);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p1, file, 1, 105, 253);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p2, file, 1, 178, 326);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p3, file, 3, 15, 397);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["attr"])(div2, "class", "comment info");
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(div2, file, 1, 152, 300);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p4, file, 4, 79, 525);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["attr"])(div3, "class", "comment advice");
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(div3, file, 4, 51, 497);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p5, file, 6, 22, 606);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p6, file, 10, 152, 1225);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["attr"])(div4, "class", "comment warning");
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(div4, file, 10, 123, 1196);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p7, file, 14, 10, 1374);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p8, file, 18, 89, 1939);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["attr"])(div5, "class", "comment advice");
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(div5, file, 18, 61, 1911);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["add_location"])(p9, file, 20, 99, 2214);
		},

		m: function mount(target, anchor) {
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, h1, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(h1, t0);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, div1, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(div1, div0);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(div0, p0);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p0, t1);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, p1, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p1, t2);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p1, b);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(b, t3);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, div2, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(div2, p2);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p2, t4);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(div2, p3);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p3, t5);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, div3, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(div3, p4);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p4, t6);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, p5, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p5, t7);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, div4, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(div4, p6);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p6, t8);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, p7, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p7, t9);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, div5, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(div5, p8);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p8, t10);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["insert"])(target, p9, anchor);
			Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["append"])(p9, t11);
		},

		p: svelte_internal__WEBPACK_IMPORTED_MODULE_0__["noop"],
		i: svelte_internal__WEBPACK_IMPORTED_MODULE_0__["noop"],
		o: svelte_internal__WEBPACK_IMPORTED_MODULE_0__["noop"],

		d: function destroy(detaching) {
			if (detaching) {
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(h1);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(div1);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(p1);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(div2);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(div3);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(p5);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(div4);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(p7);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(div5);
				Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["detach"])(p9);
			}
		}
	};
}

function instance($$self) {
	

    Object(svelte__WEBPACK_IMPORTED_MODULE_1__["onMount"])(() => {
        const id = "p2d"

        let vertices = []

        let viewportSize = 0

        let gAttribLocationProjMtx

        let parent
        let gl

        let vao
        let vbo
        let program

        let positionAttribLocation = 0
        let colorAttribLocation = 1

        let focused = false

        let comparisons = 0
        let hits = 0

        let devicePixelRatio

        let tree = []
        let backColor = { r: 255, g: 255, b: 255 }
        let frontColor = { r: 255, g: 0, b: 255 }
        let canvasWidth = 300
        let canvasHeight = 300
        let canvas
        let ui

        let enableCollision = true
        let showNodes = false
        let useQuadtree = true
        let useOptimizedBounds = true
        let showNeighbours = true
        let paused = false
        let showInfopanel = false
        let enableGravity = false

        let quadtreeBounds
        let allBounds = []

        let lastFps = 60
        let lastTime = 0

        let mouse = {
            x: 0,
            y: 0,
        }

        let particles = []
        let particleColors = []
        let particleSize = 8
        let particleColor = { r: 0, g: 0, b: 0, a: 1 }

        let boundsHighlightColor = { r: 0, g: 1, b: 0, a: 1 }
        let highlightColor = { r: 1, g: 1, b: 0, a: 1 }

        let mousedown = false

        const el = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])('<canvas>')
        canvas = el
        el.id = `${id}-canvas`
        el.textContent = 'webgl canvas placeholder'

        parent = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(`#${id}`)
        parent.appendChild(el)

        canvas.addEventListener('mouseenter', () => (focused = !focused))
        canvas.addEventListener('mouseleave', () => (focused = !focused))

        canvas.addEventListener('mousemove', (ev) => {
            updateMousePos(ev)
            if (mousedown) spawnParticle()
        })

        canvas.addEventListener('mousedown', () => mousedown = true)
        canvas.addEventListener('mouseup', () => mousedown = false)


        const div = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])('<div>')
        div.id = `${parent.id}-settings`
        parent.append(div)

        // setInterval(updateUI, 1000)

        // addUI()

        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'clear',
            className: 'btn small',
            callback: erase,
            parent: div.id,
        })

        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'show neighbours',
            className: 'btn small',
            callback: () => {
                showNeighbours = !showNeighbours
            },
            parent: div.id,
        })

        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'quadtree',
            className: 'btn small',
            callback: () => {
                useQuadtree ^= 1
            },
            parent: div.id,
        })
        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'optimized quadtree bounds',
            className: 'btn small',
            callback: () => {
                useOptimizedBounds ^= 1
            },
            parent: div.id,
        })
        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'show quadtree nodes',
            className: 'btn small',
            callback: () => {
                showNodes ^= 1
            },
            parent: div.id,
        })
        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'collisions',
            className: 'btn small',
            callback: () => {
                enableCollision ^= 1
            },
            parent: div.id,
        })
        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'gravity',
            className: 'btn small',
            callback: () => {
                enableGravity ^= 1
            },
            parent: div.id,
        })
        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'info',
            className: 'btn small',
            callback: () => {
                showInfopanel ^= 1
            },
            parent: div.id,
        })
        Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["addButton"])({
            label: 'pause',
            className: 'btn small',
            callback: () => {
                paused ^= 1
            },
            parent: div.id,
        })

        gl = canvas.getContext('webgl2')

        if (!gl) {
            alert(
                'Unable to initialize WebGL. Your browser may not support it.'
            )
            return
        }

        gl.enable(gl.BLEND)
        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA)

        program = gl.createProgram()
        let vs = gl.createShader(gl.VERTEX_SHADER)
        let fs = gl.createShader(gl.FRAGMENT_SHADER)

        let vs_src = `
        precision mediump float;

        uniform mat4 projectionMatrix;
        attribute vec2 position;
        attribute vec4 color;

        varying vec4 color0;

        void main() {
            gl_Position = projectionMatrix * vec4(position, 0.0, 1.0);
            color0 = color;
        }
        `

        let fs_src = `
        precision mediump float;
        varying vec4 color0;
        void main() {
          gl_FragColor = color0;
        }`

        gl.shaderSource(vs, vs_src)
        gl.shaderSource(fs, fs_src)

        gl.compileShader(vs)
        if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS)) {
            console.error(
                'ERROR compiling vertex shader!',
                gl.getShaderInfoLog(vs)
            )
            return
        }

        gl.compileShader(fs)
        if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS)) {
            console.error(
                'ERROR compiling fragment shader!',
                gl.getShaderInfoLog(fs)
            )
            return
        }

        gl.attachShader(program, vs)
        gl.attachShader(program, fs)

        gl.bindAttribLocation(program, positionAttribLocation, 'position')
        gl.bindAttribLocation(program, colorAttribLocation, 'color')

        gl.linkProgram(program)
        gl.validateProgram(program)

        gAttribLocationProjMtx = gl.getUniformLocation(
            program,
            'projectionMatrix'
        )

        gl.deleteShader(vs)
        gl.deleteShader(fs)

        vao = gl.createVertexArray()
        gl.bindVertexArray(vao)

        vbo = gl.createBuffer()
        gl.bindBuffer(gl.ARRAY_BUFFER, vbo)

        gl.vertexAttribPointer(
            positionAttribLocation,
            2,
            gl.FLOAT,
            gl.FALSE,
            6 * Float32Array.BYTES_PER_ELEMENT,
            0
        )
        gl.vertexAttribPointer(
            colorAttribLocation,
            4,
            gl.FLOAT,
            gl.FALSE,
            6 * Float32Array.BYTES_PER_ELEMENT,
            2 * Float32Array.BYTES_PER_ELEMENT
        )

        gl.enableVertexAttribArray(positionAttribLocation)
        gl.enableVertexAttribArray(colorAttribLocation)

        const resolveCollisions = particles => {
            let comparisons = 0
            let hits = 0
            const particleCount = particles.length
            for (let i = 0; i < particleCount; i++) {
                for (let j = i + 1; j < particleCount; j++) {
                    if (particles[i].collidesWith(particles[j])) {
                        particles[i].resolveCollision(particles[j])
                        hits++
                    }
                    comparisons++
                }
            }

            return {
                comparisons: comparisons,
                hits: hits,
            }
        }

        const resolveCollisionsQuadtree = (particles, tree) => {
            let comparisons = 0
            let hits = 0
            for (const node of tree) {
                const nodeCount = node.length
                for (let i = 0; i < nodeCount; i++) {
                    for (let j = i + 1; j < nodeCount; j++) {
                        if (particles[node[i]].collidesWith(particles[node[j]])) {
                            particles[node[i]].resolveCollision(particles[node[j]])
                            hits++
                        }
                        comparisons++
                    }
                }
            }
            return {
                comparisons: comparisons,
                hits: hits,
            }
        }

        const extractRGB = str => {
            const rgb = str
                .substring(4, str.length - 1)
                .replace(/ /g, '')
                .split(',')

            return {
                r: rgb[0],
                g: rgb[1],
                b: rgb[2],
            }
        }

        const normalize = rgba => {
            return {
                r: rgba.r / 255,
                g: rgba.g / 255,
                b: rgba.b / 255,
                a: rgba.a || rgba.a / 255,
            }
        }

        const drawTriangle = (positions, color, size) => {
            addVertices([
                -size + positions.x,
                -size + positions.y,
                color.r,
                color.g,
                color.b,
                color.a,
                positions.x,
                size + positions.y,
                color.r,
                color.g,
                color.b,
                color.a,
                size + positions.x,
                -size + positions.y,
                color.r,
                color.g,
                color.b,
                color.a,
            ])
        }

        const drawRectRange = (min, max, color) => {
            addVertices([
                min.x,
                max.y,
                color.r,
                color.g,
                color.b,
                color.a,
                max.x,
                max.y,
                color.r,
                color.g,
                color.b,
                color.a,
                max.x,
                min.y,
                color.r,
                color.g,
                color.b,
                color.a,

                min.x,
                max.y,
                color.r,
                color.g,
                color.b,
                color.a,
                max.x,
                min.y,
                color.r,
                color.g,
                color.b,
                color.a,
                min.x,
                min.y,
                color.r,
                color.g,
                color.b,
                color.a,
            ])
        }
        const drawHollowRectRange = (min, max, color, borderWidth) => {
            const hborderw = borderWidth * 0.5

            const topleft = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](min.x, max.y)
            const topright = max
            const bottomright = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](max.x, min.y)
            const bottomleft = min

            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(topleft, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(topright, hborderw),
                color
            )
            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(topright, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(bottomright, hborderw),
                color
            )
            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(bottomright, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(bottomleft, hborderw),
                color
            )
            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(bottomleft, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(topleft, hborderw),
                color
            )
        }
        const drawHollowRect = (position, color, size, borderWidth) => {
            const hborderw = borderWidth * 0.5
            const min = _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(position, size)
            const max = _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(position, size)

            const topleft = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](min.x, max.y)
            const topright = max
            const bottomright = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](max.x, min.y)
            const bottomleft = min

            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(topleft, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(topright, hborderw),
                color
            )
            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(topright, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(bottomright, hborderw),
                color
            )
            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(bottomright, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(bottomleft, hborderw),
                color
            )
            drawRectRange(
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(bottomleft, hborderw),
                _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(topleft, hborderw),
                color
            )
        }
        const drawRect = (position, color, size) => {
            addVertices([
                -size + position.x,
                size + position.y,
                color.r,
                color.g,
                color.b,
                color.a,
                size + position.x,
                size + position.y,
                color.r,
                color.g,
                color.b,
                color.a,
                size + position.x,
                -size + position.y,
                color.r,
                color.g,
                color.b,
                color.a,

                -size + position.x,
                size + position.y,
                color.r,
                color.g,
                color.b,
                color.a,
                size + position.x,
                -size + position.y,
                color.r,
                color.g,
                color.b,
                color.a,
                -size + position.x,
                -size + position.y,
                color.r,
                color.g,
                color.b,
                color.a,
            ])
        }

        const drawHollowCircle = (
            position,
            color,
            size,
            borderWidth,
            num_vertices
        ) => {
            let p1 = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](position.x + size, position.y)
            let p2
            const TWO_PI = Math.PI * 2
            for (let i = 1; i <= num_vertices + 3; i += 2) {
                const t = (i * TWO_PI) / num_vertices
                p2 = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](
                    position.x + size * Math.cos(t),
                    position.y + size * Math.sin(t)
                )
                drawLine(p1, p2, color, borderWidth)
                p1 = p2
            }
        }

        const drawLine = (p1, p2, color, size) => {
            if (size < 0.0) size = 0.001

            // Get the distance between our two points
            let d = _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].distance(p1, p2) * 0.5

            let dx = p2.x - p1.x
            let dy = p2.y - p1.y

            // Get the angle between our two points (radians)
            let theta = Math.atan2(dy, dx)

            let s = size

            let center = _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].add(p1, p2).scale(0.5)

            // Draw center debug rects
            let bot = { x: center.x - d + s, y: center.y }
            let top = { x: center.x + d - s, y: center.y }

            // Rotate
            const min = _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].subs(bot, s)
            const max = _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"].adds(top, s)

            // P1 and P2 should be min and max
            const pos2 = [
                new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](min.x, max.y),
                new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](max.x, max.y),
                new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](max.x, min.y),
                new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](min.x, max.y),
                new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](max.x, min.y),
                new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](min.x, min.y),
            ]

            const cth = Math.cos(theta)
            const sth = Math.sin(theta)

            for (let p of pos2) {
                // cx, cy - center of square coordinates
                // x, y - coordinates of a corner point of the square
                // theta is the angle of rotation

                // translate point to origin
                const tempX = p.x - center.x
                const tempY = p.y - center.y

                // now apply rotation
                const rotatedX = tempX * cth - tempY * sth
                const rotatedY = tempX * sth + tempY * cth

                // translate back
                p.x = rotatedX + center.x
                p.y = rotatedY + center.y
            }

            addVertices([
                pos2[0].x,
                pos2[0].y,
                color.r,
                color.g,
                color.b,
                color.a,
                pos2[1].x,
                pos2[1].y,
                color.r,
                color.g,
                color.b,
                color.a,
                pos2[2].x,
                pos2[2].y,
                color.r,
                color.g,
                color.b,
                color.a,
                pos2[3].x,
                pos2[3].y,
                color.r,
                color.g,
                color.b,
                color.a,
                pos2[4].x,
                pos2[4].y,
                color.r,
                color.g,
                color.b,
                color.a,
                pos2[5].x,
                pos2[5].y,
                color.r,
                color.g,
                color.b,
                color.a,
            ])
        }

        const drawHalfCircle = (center, color, radius, angle, numVertex) => {
            // Since each vertex consists of 3 points.
            const n_vertices = numVertex * 3

            // Setup the particle vertices
            let verts = []

            // Start out by setting the last inserted vertex to our center
            let last_vert = center

            let k = 0
            for (let i = 0; i < n_vertices + 3; ++i) {
                // Pos
                switch (k) {
                    case 0:
                        k += 1
                        verts.push(last_vert.x)
                        verts.push(last_vert.y)
                        break
                    case 1: {
                        k += 1
                        const cont = angle + ((i - 1) * Math.PI) / n_vertices
                        last_vert = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](
                            center.x + radius * Math.cos(cont),
                            center.y + radius * Math.sin(cont)
                        )
                        verts.push(last_vert.x)
                        verts.push(last_vert.y)
                        break
                    }
                    case 2:
                        k = 0
                        verts.push(center.x)
                        verts.push(center.y)
                        break
                    default:
                        k = 0
                        break
                }

                // Color
                verts.push(color.r)
                verts.push(color.g)
                verts.push(color.b)
                verts.push(color.a)
            }
            addVertices(verts)
        }

        const drawCircle = (center, color, size, num_vertices) => {
            // Setup the particle vertices
            let verts = []

            let last_vert = center

            let k = 0
            for (let i = 0; i < num_vertices + 3; ++i) {
                switch (k++) {
                    case 0:
                        verts.push(last_vert.x)
                        verts.push(last_vert.y)
                        break
                    case 1:
                        const t = (i * Math.PI * 2.0) / num_vertices
                        last_vert = {
                            x: center.x + size * Math.cos(t),
                            y: center.y + size * Math.sin(t),
                        }
                        verts.push(last_vert.x)
                        verts.push(last_vert.y)
                        break
                    case 2:
                        k = 0
                        verts.push(center.x)
                        verts.push(center.y)
                        break
                }

                verts.push(color.r)
                verts.push(color.g)
                verts.push(color.b)
                verts.push(color.a)
            }
            // console.log(verts.length, num_vertices)
            addVertices(verts)
        }

        function addVertices (verts) {
            // Update our vertices
            vertices.push(...verts)
        }

        function updateValues () {
            canvasWidth = parent.offsetWidth - 1 * devicePixelRatio
            canvasHeight = 500 - 1 * devicePixelRatio

            var desiredCSSWidth = canvasWidth
            var desiredCSSHeight = canvasHeight
            devicePixelRatio = window.devicePixelRatio || 1

            canvas.width = desiredCSSWidth * devicePixelRatio
            canvas.height = desiredCSSHeight * devicePixelRatio

            canvas.style.width = desiredCSSWidth + 'px'
            canvas.style.height = desiredCSSHeight + 'px'

            canvasWidth *= devicePixelRatio
            canvasHeight *= devicePixelRatio

            frontColor = normalize(window.color.textNormal)
            frontColor.a = 1

            backColor = normalize(window.color.background)
            backColor.a = 1

            boundsHighlightColor = normalize(window.color.textHighlight)
            boundsHighlightColor.a = 1
        }

        function erase() {
            particles.length = 0
            particleColors.length = 0
        }

        function drawUI () {
            // Show the cursor as a hollow circle with the current selected size.

            // But only if it is inside the canvas
            if (focused)
                drawHollowCircle(
                    mouse,
                    frontColor,
                    getParticleSize(),
                    0.5 * devicePixelRatio,
                    36
                )
        }
        function baseLineComparisons() {
            const n = particles.length
            return (n * (n - 1)) / 2
        }
        function comparisonsDelta() {
            return baseLineComparisons() / comparisons
        }
        function addUI (){
            ui = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])('<ul>')
            ui.id = `${parent.id}-info`
            ui.className = 'demo-info-list'
            parent.insertBefore(ui, canvas)
        }

        function updateUI (show = true, fontSize = 14){
            ui.innerHTML = ''
            ui.style = `font-size: ${fontSize}px; display: ${
                show ? 'inline' : 'none'
            };`
            const labels = [
                `FPS: ${lastFps}`,
                `Particles: ${particles.length}`,
                `Comparisons: ${comparisons}(${comparisonsDelta().toFixed(0)}x)`,
            ]

            for (const label of labels) {
                const l = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])('<li>')
                l.textContent = label
                l.className = 'demo-info-list-element'
                ui.appendChild(l)
            }
        }

        function getRelativeMousePosition (event, target) {
            target = target || event.target
            const rect = target.getBoundingClientRect()

            return {
                x: event.clientX - rect.left,
                y: event.clientY - rect.top,
            }
        }

        function updateMousePos (event, target) {
            target = target || event.target
            let pos = getRelativeMousePosition(event, target)

            pos.x *= devicePixelRatio
            pos.y *= devicePixelRatio

            mouse = pos
        }

        function getMousePosInViewspace (){
            const x = mouse.x
            const y = mouse.y

            const w = canvasWidth
            const h = canvasHeight

            return {
                x: -1.0 + (2 * x) / w / devicePixelRatio,
                y: 1.0 - (2 * y) / h / devicePixelRatio,
            }
        }

        function drawAllParticles() {
            const particleCount = particles.length
            const vertexCount = 36
            for (let i = 0; i < particleCount; ++i) {
                const particle = particles[i]
                const position = particle.position
                const radius = particle.radius
                const color = particleColors[i]
                drawCircle(position, color, radius, vertexCount)
                drawHollowCircle(
                    position,
                    backColor,
                    radius,
                    0.3 * devicePixelRatio,
                    vertexCount
                )
                particleColors[i] = {
                    r: frontColor.r,
                    g: frontColor.g,
                    b: frontColor.b,
                    a: 1,
                }
            }
        }

        function spawnParticle() {
            const size = getParticleSize()
            let particle = new _utils_particle__WEBPACK_IMPORTED_MODULE_3__["default"](mouse.x, mouse.y, size)
            particles.push(particle)
            particleColors.push(particleColor)
        }

        function toViewspace(v) {
            const w = canvasWidth
            const h = canvasHeight

            return {
                x: -1.0 + (2 * v.x) / w / devicePixelRatio,
                y: 1.0 - (2 * v.y) / h / devicePixelRatio,
            }
        }

        function getParticleSize() {
            return particleSize * devicePixelRatio
        }

        function animate() {
            updateValues()

            gl.clearColor(backColor.r, backColor.g, backColor.b, 1.0)
            gl.clear(gl.COLOR_BUFFER_BIT)

            const time = Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["getTime"])()
            if (useQuadtree) {
                let min = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](0, 0)
                let max = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](canvasWidth, canvasHeight)

                if (useOptimizedBounds) {
                    const temp = Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["getMinAndMaxPosition"])(particles)
                    min = temp.min
                    max = temp.max
                }

                quadtreeBounds = new _utils_utility__WEBPACK_IMPORTED_MODULE_5__["Rect"](min, max)
                const quadtree = new _utils_quadtree__WEBPACK_IMPORTED_MODULE_6__["default"](0, quadtreeBounds)

                quadtree.input(particles)

                allBounds = []
                quadtree.getNodesBounds(allBounds)

                tree = []
                quadtree.getIndices(tree)

                if (showNodes) {
                    for (const bound of allBounds) {
                        const x = bound.min.x
                        const y = bound.min.y
                        const width = bound.max.x - bound.min.x - 1
                        const height = bound.max.y - bound.min.y - 1
                        drawHollowRectRange(
                            new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](x, y),
                            new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](x + width, y + height),
                            frontColor,
                            2 * devicePixelRatio
                        )
                    }
                }

                // Only draw the neighbours if the app
                // is in focus.
                // Otherwise when the user leaves the region
                // the mouse will be stuck in the last place and
                // distract the user.
                if (focused && showNeighbours) {

                    let neighbours = []
                    quadtree.getNeighbourNodes(neighbours, {
                        position: mouse,
                        radius: getParticleSize(),
                    })

                    // Draw all neighbours in a highlight color.
                    neighbours.forEach(node => {
                        const bound = node.bounds
                        const x = bound.min.x
                        const y = bound.min.y
                        const width = bound.max.x - bound.min.x - 1
                        const height = bound.max.y - bound.min.y - 1
                        drawHollowRectRange(
                            new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](x, y),
                            new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](x + width, y + height),
                            boundsHighlightColor,
                            2 * devicePixelRatio
                        )
                        // Draw the particles
                        node.indices.forEach(index => {
                            particleColors[index] = boundsHighlightColor
                        })
                    })
                }
            }

            if (enableCollision) {
                let res
                if (useQuadtree) {
                    res = resolveCollisionsQuadtree(particles, tree)
                } else {
                    res = resolveCollisions(particles)
                }
                comparisons = res.comparisons
                hits = res.hits
            }

            if (!paused) {
                const gravityY = enableGravity ? 0.0981 : 0.0
                for (let particle of particles) {
                    particle.update(
                        {
                            width: canvasWidth,
                            height: canvasHeight,
                        },
                        { x: 0.0, y: gravityY }
                    )
                }
            }

            drawAllParticles()
            draw()
            drawUI()

            window.requestAnimationFrame(animate)
        }

        function draw() {
            if (vertices.length === 0) return

            const displaySize = new _utils_math__WEBPACK_IMPORTED_MODULE_4__["v2"](canvasWidth, canvasHeight)

            // Setup viewport, orthographic projection matrix
            gl.viewport(0, 0, canvasWidth, canvasHeight)
            const ortho_projection = _utils_math__WEBPACK_IMPORTED_MODULE_4__["mat4"].fromValues(
                2.0 / displaySize.x,
                0.0,
                0.0,
                0.0,
                0.0,
                2.0 / -displaySize.y,
                0.0,
                0.0,
                0.0,
                0.0,
                -1.0,
                0.0,
                -1.0,
                1.0,
                0.0,
                1.0
            )

            gl.useProgram(program)
            gl.uniformMatrix4fv(gAttribLocationProjMtx, gl.FALSE, ortho_projection)
            gl.bindVertexArray(vao)
            gl.bindBuffer(gl.ARRAY_BUFFER, vbo)
            gl.bufferData(
                gl.ARRAY_BUFFER,
                new Float32Array(vertices),
                gl.DYNAMIC_DRAW
            )

            // Finally draw the vertices
            gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 6)

            vertices = []
            updateFPS()
        }
        function updateFPS() {
            lastFps = 1 / (Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["getTime"])() - lastTime)
            lastTime = Object(_utils_utility__WEBPACK_IMPORTED_MODULE_5__["getTime"])()
            lastFps = lastFps.toFixed(0)
        }

        animate()
    });

	return {};
}

class P2d extends svelte_internal__WEBPACK_IMPORTED_MODULE_0__["SvelteComponentDev"] {
	constructor(options) {
		super(options);
		Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__["init"])(this, options, instance, create_fragment, svelte_internal__WEBPACK_IMPORTED_MODULE_0__["safe_not_equal"], []);
	}
}

/* harmony default export */ __webpack_exports__["default"] = (P2d);

/***/ }),

/***/ "./src/components/utils/mat4.js":
/*!**************************************!*\
  !*** ./src/components/utils/mat4.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return mat4; });
class mat4 {
    static fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
        let out = []
        out[0] = m00;
        out[1] = m01;
        out[2] = m02;
        out[3] = m03;
        out[4] = m10;
        out[5] = m11;
        out[6] = m12;
        out[7] = m13;
        out[8] = m20;
        out[9] = m21;
        out[10] = m22;
        out[11] = m23;
        out[12] = m30;
        out[13] = m31;
        out[14] = m32;
        out[15] = m33;
        return out;
    }
}


/***/ }),

/***/ "./src/components/utils/math.js":
/*!**************************************!*\
  !*** ./src/components/utils/math.js ***!
  \**************************************/
/*! exports provided: v2, v4, mat4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _v2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v2 */ "./src/components/utils/v2.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "v2", function() { return _v2__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v4 */ "./src/components/utils/v4.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "v4", function() { return _v4__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _mat4__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mat4 */ "./src/components/utils/mat4.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mat4", function() { return _mat4__WEBPACK_IMPORTED_MODULE_2__["default"]; });







/***/ }),

/***/ "./src/components/utils/particle.js":
/*!******************************************!*\
  !*** ./src/components/utils/particle.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Particle; });
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math */ "./src/components/utils/math.js");
/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utility */ "./src/components/utils/utility.js");



class Particle {
    constructor(x, y, r) {
        this.position = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x, y)
        this.velocity = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](Object(_utility__WEBPACK_IMPORTED_MODULE_1__["random"])(-1, 1), Object(_utility__WEBPACK_IMPORTED_MODULE_1__["random"])(-1, 1)).scale(2)
        this.radius = r
        this.mass = r
    }

    update(bounds, gravity) {
        // Border collision
        if (this.position.x <= this.radius && this.velocity.x < 0) {
            this.position.x = this.radius
            this.velocity.x = -this.velocity.x
        }
        if (
            this.position.x >= bounds.width - this.radius &&
            this.velocity.x > 0
        ) {
            this.position.x = bounds.width - this.radius
            this.velocity.x = -this.velocity.x
        }
        if (this.position.y <= this.radius && this.velocity.y < 0) {
            this.position.y = this.radius
            this.velocity.y = -this.velocity.y
        }
        if (
            this.position.y >= bounds.height - this.radius &&
            this.velocity.y > 0
        ) {
            this.position.y = bounds.height - this.radius
            this.velocity.y = -this.velocity.y
        }
        this.velocity.add(gravity)
        this.position.add(this.velocity)
    }

    collidesWith(b) {
        const dx = b.position.x - this.position.x
        const dy = b.position.y - this.position.y
        const sumRadius = this.radius + b.radius
        const sqrRadius = sumRadius * sumRadius
        const distSqr = dx * dx + dy * dy
        if (distSqr <= sqrRadius) return true
        return false
    }

    resolveCollision(b) {
        
        const m1 = this.mass
        const m2 = b.mass
        const dx = b.position.x - this.position.x
        const dy = b.position.y - this.position.y
        const vdx = b.velocity.x - this.velocity.x
        const vdy = b.velocity.y - this.velocity.y
        const d = dx * vdx + dy * vdy

        if (d < 0) {
            const norm_vec = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](dx, dy).normalize()
            const tang_vec = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](norm_vec.y * -1.0, norm_vec.x)
            const scal_norm_1 = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].dot(norm_vec, this.velocity)
            const scal_norm_2 = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].dot(norm_vec, b.velocity)
            const scal_tang_1 = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].dot(tang_vec, this.velocity)
            const scal_tang_2 = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].dot(tang_vec, b.velocity)
            const scal_norm_1_after = (scal_norm_1 * (m1 - m2) + 2 * m2 * scal_norm_2) / (m1 + m2)
            const scal_norm_2_after = (scal_norm_2 * (m2 - m1) + 2 * m1 * scal_norm_1) / (m1 + m2)
            const scal_norm_1_after_vec = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].scale(norm_vec, scal_norm_1_after)
            const scal_norm_2_after_vec = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].scale(norm_vec, scal_norm_2_after)
            const scal_norm_1_vec = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].scale(tang_vec, scal_tang_1)
            const scal_norm_2_vec = _math__WEBPACK_IMPORTED_MODULE_0__["v2"].scale(tang_vec, scal_tang_2)

            this.velocity = scal_norm_1_vec.add(scal_norm_1_after_vec)
            b.velocity = scal_norm_2_vec.add(scal_norm_2_after_vec)
        }
    }
}


/***/ }),

/***/ "./src/components/utils/quadtree.js":
/*!******************************************!*\
  !*** ./src/components/utils/quadtree.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Quadtree; });
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math */ "./src/components/utils/math.js");
/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utility */ "./src/components/utils/utility.js");
let data = []




const DEFAULT_MAX_NODE_CAPACITY = 10
const DEFAULT_MAX_NODE_DEPTH = 5

class Quadtree {
    constructor(depth, bounds) {
        this.maxCapacityPerNode = DEFAULT_MAX_NODE_CAPACITY
        this.maxDepth = DEFAULT_MAX_NODE_DEPTH
        this.depth = depth
        this.bounds = bounds
        this.subnodes = [4]
        this.indices = []
        this.hasSplit = false
    }

    visit(callback) {
        if (this.hasSplit) {
            this.subnodes[0].visit(callback)
            this.subnodes[1].visit(callback)
            this.subnodes[2].visit(callback)
            this.subnodes[3].visit(callback)
            return
        }
        return callback(this)
    }

    split() {
        const min = this.bounds.min
        const max = this.bounds.max
        const x = min.x
        const y = min.y
        const width = max.x - min.x
        const height = max.y - min.y
        const w = width * 0.5
        const h = height * 0.5
        const SW = new _utility__WEBPACK_IMPORTED_MODULE_1__["Rect"](new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x, y), new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x + w, y + h))
        const SE = new _utility__WEBPACK_IMPORTED_MODULE_1__["Rect"](new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x + w, y), new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x + width, y + h))
        const NW = new _utility__WEBPACK_IMPORTED_MODULE_1__["Rect"](new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x, y + h), new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x + w, y + height))
        const NE = new _utility__WEBPACK_IMPORTED_MODULE_1__["Rect"](new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x + w, y + h), new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](x + width, y + height))
        this.subnodes[0] = new Quadtree(this.depth + 1, SW)
        this.subnodes[1] = new Quadtree(this.depth + 1, SE)
        this.subnodes[2] = new Quadtree(this.depth + 1, NW)
        this.subnodes[3] = new Quadtree(this.depth + 1, NE)
        this.hasSplit = true
    }

    input(objects) {
        data = objects
        const objectCount = data.length
        for (let i = 0; i < objectCount; i++) {
            this.insert(i)
        }
    }

    contains(index) {
        return this.bounds.containsPoint(
            data[index].position,
            data[index].radius
        )
    }

    insert(index) {
        // If this node has split add it to the children instead
        if (this.hasSplit) {
            if (this.subnodes[0].contains(index)) {
                this.subnodes[0].insert(index)
            }
            if (this.subnodes[1].contains(index)) {
                this.subnodes[1].insert(index)
            }
            if (this.subnodes[2].contains(index)) {
                this.subnodes[2].insert(index)
            }
            if (this.subnodes[3].contains(index)) {
                this.subnodes[3].insert(index)
            }
            return
        }
        // .. else add it here.
        this.indices.push(index)
        // Then if we've reached our max capacity..
        if (
            this.indices.length > this.maxCapacityPerNode &&
            this.depth < this.maxDepth
        ) {
            // ..split..
            this.split()
            //  ..and move the indices from this node to the new ones
            for (const i of this.indices) {
                if (this.subnodes[0].contains(i)) {
                    this.subnodes[0].insert(i)
                }
                if (this.subnodes[1].contains(i)) {
                    this.subnodes[1].insert(i)
                }
                if (this.subnodes[2].contains(i)) {
                    this.subnodes[2].insert(i)
                }
                if (this.subnodes[3].contains(i)) {
                    this.subnodes[3].insert(i)
                }
            }
            // .. and clear this one out
            this.indices = []
        }
    }

    getIndices(nodes) {
        if (this.hasSplit) {
            this.subnodes[0].getIndices(nodes)
            this.subnodes[1].getIndices(nodes)
            this.subnodes[2].getIndices(nodes)
            this.subnodes[3].getIndices(nodes)
            return
        }
        if (this.indices.length != 0) {
            nodes.push(this.indices)
        }
    }

    getNeighbours(nodes, object) {
        if (this.hasSplit) {
            if (
                this.subnodes[0].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            ) {
                this.subnodes[0].getNeighbours(nodes, object)
            }
            if (
                this.subnodes[1].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            ) {
                this.subnodes[1].getNeighbours(nodes, object)
            }
            if (
                this.subnodes[2].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            ) {
                this.subnodes[2].getNeighbours(nodes, object)
            }
            if (
                this.subnodes[3].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            ) {
                this.subnodes[3].getNeighbours(nodes, object)
            }
            return false
        }
        if (this.indices.length != 0) {
            nodes.push(this.indices)
        }
    }

    getNeighbourNodes(nodes, object) {
        if (this.hasSplit) {
            if (
                this.subnodes[0].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            )
                this.subnodes[0].getNeighbourNodes(nodes, object)

            if (
                this.subnodes[1].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            )
                this.subnodes[1].getNeighbourNodes(nodes, object)

            if (
                this.subnodes[2].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            )
                this.subnodes[2].getNeighbourNodes(nodes, object)
            if (
                this.subnodes[3].bounds.containsPoint(
                    object.position,
                    object.radius
                )
            )
                this.subnodes[3].getNeighbourNodes(nodes, object)
            return
        }
        nodes.push(this)
    }

    getNodesBounds(container) {
        if (this.hasSplit) {
            this.subnodes[0].getNodesBounds(container)
            this.subnodes[1].getNodesBounds(container)
            this.subnodes[2].getNodesBounds(container)
            this.subnodes[3].getNodesBounds(container)
            return
        }
        container.push(this.bounds)
    }

    colorNeighbours(position, radius, color) {
        if (this.hasSplit) {
            if (this.subnodes[0].bounds.containsPoint(position, radius)) {
                this.subnodes[0].colorNeighbours(position, radius, color)
            }
            if (this.subnodes[1].bounds.containsPoint(position, radius)) {
                this.subnodes[1].colorNeighbours(position, radius, color)
            }
            if (this.subnodes[2].bounds.containsPoint(position, radius)) {
                this.subnodes[2].colorNeighbours(position, radius, color)
            }
            if (this.subnodes[3].bounds.containsPoint(position, radius)) {
                this.subnodes[3].colorNeighbours(position, radius, color)
            }
            return false
        }
        this.bounds.color = color
    }
}


/***/ }),

/***/ "./src/components/utils/query.js":
/*!***************************************!*\
  !*** ./src/components/utils/query.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 *  Shorthand syntax for getting elements from the DOM.
 *
 * @param {string} query - Prefix IDs, classes, elements with '# . <' respectivly.
 * @returns {(HTMLElement|HTMLElement[]|NodeListOf<Element>)} Returns element if 'ID' otherwise an array of elements.
 */
const jq = query =>
    query[0] === '#'
        ? document.getElementById(query.slice(1, query.length))
        : query[0] === '.'
        ? [...document.getElementsByClassName(query.slice(1, query.length))]
        : query[0] === '<'
        ? document.createElement(query.slice(1, query.length - 1))
        : [...document.querySelectorAll(query)]
/* harmony default export */ __webpack_exports__["default"] = (jq);


/***/ }),

/***/ "./src/components/utils/utility.js":
/*!*****************************************!*\
  !*** ./src/components/utils/utility.js ***!
  \*****************************************/
/*! exports provided: getMinAndMaxPosition, Rect, HSLstringToRGB, HSLtoRGB, HSLtoRGBA, getTime, getExt, uuidv4, random, addProgressBar, addButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMinAndMaxPosition", function() { return getMinAndMaxPosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rect", function() { return Rect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HSLstringToRGB", function() { return HSLstringToRGB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HSLtoRGB", function() { return HSLtoRGB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HSLtoRGBA", function() { return HSLtoRGBA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTime", function() { return getTime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getExt", function() { return getExt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uuidv4", function() { return uuidv4; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "random", function() { return random; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addProgressBar", function() { return addProgressBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addButton", function() { return addButton; });
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math */ "./src/components/utils/math.js");
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./query */ "./src/components/utils/query.js");



/**
 * Returns the minimum and maximum position found.
 * @param {Object[]} objects - An array of objects with a 'pos' property.
 * @returns {min, max}- An object with a 'min' and 'max' property.
 */
const getMinAndMaxPosition = objects => {
    let min = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](10000, 10000)
    let max = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](-10000, -10000)

    for (const object of objects) {
        const pos = object.position

        if (pos.x > max.x) max.x = pos.x
        else if (pos.x < min.x) min.x = pos.x

        if (pos.y > max.y) max.y = pos.y
        else if (pos.y < min.y) min.y = pos.y
    }

    return {
        min: min,
        max: max,
    }
}

class Rect {
    constructor(min = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](0, 0), max = new _math__WEBPACK_IMPORTED_MODULE_0__["v2"](0, 0)) {
        this.min = min
        this.max = max
        this.color = {
            r: 1.0,
            g: 1.0,
            b: 1.0,
            a: 1.0,
        }
    }
    containsPoint(position, radius) {
        if (
            position.x - radius < this.max.x &&
            position.x + radius > this.min.x &&
            position.y - radius < this.max.y &&
            position.y + radius > this.min.y
        ) {
            return true
        }
        return false
    }
}

const hue2rgb = (p, q, t) => {
    if (t < 0) t += 1
    if (t > 1) t -= 1
    if (t < 1 / 6) return p + (q - p) * 6 * t
    if (t < 1 / 2) return q
    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6
    return p
}

const HSLstringToRGB = hsl => {
    const regexp = /hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/g
    let res = regexp.exec(hsl).slice(1)
    res[0] = parseInt(res[0])
    res[1] = parseInt(res[1].slice(0, res[1].length - 1))
    res[2] = parseInt(res[2].slice(0, res[2].length - 1))
    const rgb = HSLtoRGB(res[0], res[1], res[2])
    return { r: rgb.r * 255, g: rgb.g * 255, b: rgb.b * 255 }
}

const HSLtoRGB = (h, s, l) => {
    var r, g, b, m, c, x

    if (!isFinite(h)) h = 0
    if (!isFinite(s)) s = 0
    if (!isFinite(l)) l = 0

    h /= 60
    if (h < 0) h = 6 - (-h % 6)
    h %= 6

    s = Math.max(0, Math.min(1, s / 100))
    l = Math.max(0, Math.min(1, l / 100))

    c = (1 - Math.abs(2 * l - 1)) * s
    x = c * (1 - Math.abs((h % 2) - 1))

    if (h < 1) {
        r = c
        g = x
        b = 0
    } else if (h < 2) {
        r = x
        g = c
        b = 0
    } else if (h < 3) {
        r = 0
        g = c
        b = x
    } else if (h < 4) {
        r = 0
        g = x
        b = c
    } else if (h < 5) {
        r = x
        g = 0
        b = c
    } else {
        r = c
        g = 0
        b = x
    }

    m = l - c / 2
    r += m
    g += m
    b += m

    return { r: r, g: g, b: b }
}

const HSLtoRGBA = (h, s, l) => {
    var r, g, b, m, c, x

    if (!isFinite(h)) h = 0
    if (!isFinite(s)) s = 0
    if (!isFinite(l)) l = 0

    h /= 60
    if (h < 0) h = 6 - (-h % 6)
    h %= 6

    s = Math.max(0, Math.min(1, s / 100))
    l = Math.max(0, Math.min(1, l / 100))

    c = (1 - Math.abs(2 * l - 1)) * s
    x = c * (1 - Math.abs((h % 2) - 1))

    if (h < 1) {
        r = c
        g = x
        b = 0
    } else if (h < 2) {
        r = x
        g = c
        b = 0
    } else if (h < 3) {
        r = 0
        g = c
        b = x
    } else if (h < 4) {
        r = 0
        g = x
        b = c
    } else if (h < 5) {
        r = x
        g = 0
        b = c
    } else {
        r = c
        g = 0
        b = x
    }

    m = l - c / 2
    r += m
    g += m
    b += m

    return { r: r, g: g, b: b, a: 1 }
}

let gStartTime = 0

const getTime = () => {
    return (new Date().getTime() - gStartTime) / 1000
}

const getExt = str => {
    return str.split('.').pop()
}

const uuidv4 = () => {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
        var r = (Math.random() * 16) | 0,
            v = c == 'x' ? r : (r & 0x3) | 0x8
        return v.toString(16)
    })
}

const random = (min, max) => {
    return Math.random() * (max - min) + min
}

const addProgressBar = options => {
    const bar = Object(_query__WEBPACK_IMPORTED_MODULE_1__["default"])('<input>')
    bar.type = 'range'
    bar.className = options.className || 'slider'
    bar.setAttribute('value', options.startingValue || 50)
    bar.setAttribute('min', options.minValue || 0)
    bar.setAttribute('max', options.maxValue || 100)
    bar.addEventListener('input', options.callback)
    options.element.appendChild(bar)
}

const addButton = options => {
    const element = Object(_query__WEBPACK_IMPORTED_MODULE_1__["default"])('<button>')
    element.textContent = options.label
    element.id = options.id || options.label
    element.className = options.className || 'btn'
    element.addEventListener('click', options.callback)
    Object(_query__WEBPACK_IMPORTED_MODULE_1__["default"])(`#${options.parent}`).appendChild(element)
}


/***/ }),

/***/ "./src/components/utils/v2.js":
/*!************************************!*\
  !*** ./src/components/utils/v2.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return v2; });
class v2 {
    constructor(x = 0, y = 0) {
        this.x = x
        this.y = y
    }
    neg() {
        this.x = -this.x
        this.y = -this.y
        return this
    }
    add(v) {
        this.x += v.x
        this.y += v.y
        return this
    }
    sub(v) {
        this.x -= v.x
        this.y -= v.y
        return this
    }
    scale(v) {
        this.x *= v
        this.y *= v
        return this
    }
    div(v) {
        if (v != 0) {
            this.x /= v
            this.y /= v
        }
        return this
    }
    dot(v) {
        return this.x * v.x + this.y * v.y
    }
    length() {
        return Math.sqrt(this.dot(this))
    }
    normalize() {
        return this.div(this.length())
    }

    static distance(a, b) {
        return Math.sqrt((b.x - a.x) * (b.x - a.x) + (b.y - a.y) * (b.y - a.y))
    }
    static neg(v) {
        return new v2(-v.x, -v.y)
    }
    static add(a, b) {
        return new v2(a.x + b.x, a.y + b.y)
    }
    static adds(a, b) {
        return new v2(a.x + b, a.y + b)
    }
    static sub(a, b) {
        return new v2(a.x - b.x, a.y - b.y)
    }
    static subs(a, b) {
        return new v2(a.x - b, a.y - b)
    }
    static scale(a, b) {
        return new v2(a.x * b, a.y * b)
    }
    static div(a, b) {
        return new v2(a.x / b, a.y / b)
    }
    static dot(a, b) {
        return a.x * b.x + a.y * b.y
    }
}


/***/ }),

/***/ "./src/components/utils/v4.js":
/*!************************************!*\
  !*** ./src/components/utils/v4.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return v4; });
class v4 {
    constructor(x = 0, y = 0, z = 0, w = 0) {
        this.x = x
        this.y = y
        this.z = z
        this.w = w
    }

    RGBA() {
        return {
            r: this.x,
            g: this.y,
            b: this.z,
            a: this.w,
        }
    }

    add(b) {
        this.x += b.x
        this.y += b.y
        this.z += b.z
        this.w += b.w
        return this
    }

    sub(b) {
        this.x -= b.x
        this.y -= b.y
        this.z -= b.z
        this.w -= b.w
        return this
    }
    scale(b) {
        this.x *= b
        this.y *= b
        this.z *= b
        this.w *= b
        return this
    }
    static scale(a, b) {
        return new v4(a.x * b, a.y * b, a.z * b, a.w * b)
    }

    static add(a, b) {
        return new v4(a.x + b.x, a.y + b.y, a.z + b.z, a.w + b.w)
    }

    static sub(a, b) {
        return new v4(a.x - b.x, a.y - b.y, a.z - b.z, a.w - b.w)
    }
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3AyZC5zdmVsdGUiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91dGlscy9tYXQ0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbHMvbWF0aC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxzL3BhcnRpY2xlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbHMvcXVhZHRyZWUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91dGlscy9xdWVyeS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxzL3V0aWxpdHkuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91dGlscy92Mi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxzL3Y0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBbUMyQzs7SUFFdkMsc0RBQU8sQ0FBQyxNQUFNO1FBQ1YsTUFBTSxFQUFFLEdBQUcsS0FBSzs7UUFFaEIsSUFBSSxRQUFRLEdBQUcsRUFBRTs7UUFFakIsSUFBSSxZQUFZLEdBQUcs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QUFDLENBQUM7WUFDM0IsTUFBTSxHQUFHLEdBQUcsOENBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQzs7O1lBRzNCLE1BQU0sSUFBSSxHQUFHO2dCQUNULElBQUksOENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLElBQUksOENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLElBQUksOENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLElBQUksOENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLElBQUksOENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLElBQUksOENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDdkI7O1lBRUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDM0IsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7O1lBRTNCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFOzs7Ozs7Z0JBTWhCLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7Z0JBQzVCLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7OztnQkFHNUIsTUFBTSxRQUFRLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRztnQkFDMUMsTUFBTSxRQUFRLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRzs7O2dCQUcxQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsR0FBRyxNQUFNLENBQUMsQ0FBQztnQkFDekIsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLEdBQUcsTUFBTSxDQUFDLENBQUM7YUFDNUI7O1lBRUQsV0FBVyxDQUFDO2dCQUNSLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNULEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLEtBQUssQ0FBQyxDQUFDO2dCQUNQLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNU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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDdk9BO0FBQUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsZ0RBQWdEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLGlFQUFFOzs7Ozs7Ozs7Ozs7O0FDZGpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMkI7QUFDSDs7QUFFeEI7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDTztBQUNQLGtCQUFrQix3Q0FBRTtBQUNwQixrQkFBa0Isd0NBQUU7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQLDBCQUEwQix3Q0FBRSxrQkFBa0Isd0NBQUU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaOztBQUVPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjs7QUFFQTs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1AsZ0JBQWdCLHNEQUFFO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCxvQkFBb0Isc0RBQUU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHNEQUFFLEtBQUssZUFBZTtBQUMxQjs7Ozs7Ozs7Ozs7OztBQ3JOQTtBQUFBO0FBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ3JFQTtBQUFBO0FBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJjNDBkZWU5ZjdmOWRkNzFkNzkwNC9ibG9nfmluZGV4LmJsb2d+aW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyI8aDE+MkQgQ29sbGlzaW9uczwvaDE+PGRpdiBpZD1cInAyZFwiPjxkaXYgY2xhc3M9XCJjb21tZW50IGluZm9cIj48cD5BbnkgcGVyZm9ybWFuY2UgaXNzdWUgYXQgdGhpcyBwb2ludCBpcyBhY3R1YWxseSBmcm9tIHRoZSBkcmF3aW5nIG9mIHRoZSBwYXJ0aWNsZXMuXG5JdCBkb2VzbnQgY2FjaGUgdGhlIHZlcnRpY2VzLCBzbyBpdCBjYWxjdWxhdGVzIHRoZW0gZWFjaCBmcmFtZSB2aWEgYW4gaW1taWRpYXRlIG1vZGUgYXBpLjwvcD48L2Rpdj48L2Rpdj48cD5UaGlzIGlzIGEgdGVzdCBwYXJhZ3JhZi48Yj5JIGFtIGJvbGQ8L2I+PC9wPjxkaXYgY2xhc3M9XCJjb21tZW50IGluZm9cIj48cD5UaGlzIGlzIGEgaW5mbyBub3RlLlxuVGhleSBjYW4gYmUgcmVjb2duaXplZCBieSB0aGVpclxuZ3JheSBsYWJlbC48L3A+PHA+Tm90IHJlYWxseSBzdXJlIHdoYXQgaSB3aWxsIHVzZSB0aGVtIGZvciwgYnV0XG5pIG5lZWRlZCBzb21ldGhpbmcgZWxzZSB0aGF0IGp1c3QgYWR2aWNlLjwvcD48L2Rpdj48ZGl2IGNsYXNzPVwiY29tbWVudCBhZHZpY2VcIj48cD5UaGlzIGlzIGFuIGFkdmljZSBub3RlLlxuVGhleSBjYW4gYmUgcmVjb2duaXplZCBieSB0aGVpclxuZ3JlZW4gbGFiZWwuPC9wPjwvZGl2PjxwPkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmFcbmFsaXF1YS4gUG9ydHRpdG9yIGVnZXQgZG9sb3IgbW9yYmkgbm9uIGFyY3UgcmlzdXMuIEVnZXN0YXMgaW50ZWdlciBlZ2V0IGFsaXF1ZXQgbmliaCBwcmFlc2VudCB0cmlzdGlxdWUgbWFnbmEgc2l0LlxuU29sbGljaXR1ZGluIG5pYmggc2l0IGFtZXQgY29tbW9kbyBudWxsYS4gTG9ib3J0aXMgZmV1Z2lhdCB2aXZhbXVzIGF0IGF1Z3VlIGVnZXQgYXJjdSBkaWN0dW0uIFBlbGxlbnRlc3F1ZSBwdWx2aW5hclxucGVsbGVudGVzcXVlIGhhYml0YW50IG1vcmJpIHRyaXN0aXF1ZSBzZW5lY3R1cyBldCBuZXR1cy4gTnVuYyBzZWQgaWQgc2VtcGVyIHJpc3VzIGluIGhlbmRyZXJpdCBncmF2aWRhLiBQZWxsZW50ZXNxdWVcbm1hc3NhIHBsYWNlcmF0IGR1aXMgdWx0cmljaWVzLiBNYXNzYSB0aW5jaWR1bnQgbnVuYyBwdWx2aW5hciBzYXBpZW4gZXQuIE1hdXJpcyBjdXJzdXMgbWF0dGlzIG1vbGVzdGllIGEgaWFjdWxpcyBhdCBlcmF0PC9wPjxkaXYgY2xhc3M9XCJjb21tZW50IHdhcm5pbmdcIj48cD5UaGlzIGlzIGEgd2FybmluZyBub3RlLlxuVGhlc2Ugd2lsbCBiZSB1c2VkIHRvIHB1dCBlbXBoYXNpcyBvbiBkYW5nZXJvdXMgb3IgdW5zYWZlIHRoaW5ncy5cblRoZXkgY2FuIGJlIHJlY29nbml6ZWQgYnkgdGhlaXJcbm9yYW5nZSBsYWJlbC5cbjwvcD48L2Rpdj48cD5wZWxsZW50ZXNxdWUuIExpZ3VsYSB1bGxhbWNvcnBlciBtYWxlc3VhZGEgcHJvaW4gbGliZXJvIG51bmMgY29uc2VxdWF0IGludGVyZHVtIHZhcml1cyBzaXQuIFF1aXMgY29tbW9kbyBvZGlvIGFlbmVhbiBzZWRcbmFkaXBpc2NpbmcgZGlhbSBkb25lYy4gQWRpcGlzY2luZyBhdCBpbiB0ZWxsdXMgaW50ZWdlciBmZXVnaWF0IHNjZWxlcmlzcXVlIHZhcml1cyBtb3JiaSBlbmltLiBCaWJlbmR1bSBhdCB2YXJpdXMgdmVsXG5waGFyZXRyYSB2ZWwgdHVycGlzLiBDcmFzIHNlZCBmZWxpcyBlZ2V0IHZlbGl0IGFsaXF1ZXQuIFF1aXMgaGVuZHJlcml0IGRvbG9yIG1hZ25hIGVnZXQgZXN0LiBFbGl0IHV0IGFsaXF1YW0gcHVydXMgc2l0XG5hbWV0IGx1Y3R1cyB2ZW5lbmF0aXMuIFNlbSB2aXZlcnJhIGFsaXF1ZXQgZWdldCBzaXQgYW1ldCB0ZWxsdXMgY3JhcyBhZGlwaXNjaW5nLiBNZXR1cyBhbGlxdWFtIGVsZWlmZW5kIG1pIGluIG51bGxhXG5wb3N1ZXJlIHNvbGxpY2l0dWRpbi4gRWdlc3RhcyBzZWQgc2VkIHJpc3VzIHByZXRpdW0gcXVhbS48L3A+PGRpdiBjbGFzcz1cImNvbW1lbnQgYWR2aWNlXCI+PHA+QW55IHBlcmZvcm1hbmNlIGlzc3VlIGF0IHRoaXMgcG9pbnQgaXMgYWN0dWFsbHkgZnJvbSB0aGUgZHJhd2luZyBvZiB0aGUgcGFydGljbGVzLlxuSXQgZG9lc250IGNhY2hlIHRoZSB2ZXJ0aWNlcywgc28gaXQgY2FsY3VsYXRlcyB0aGVtIGVhY2ggZnJhbWUgdmlhIGFuIGltbWlkaWF0ZSBtb2RlIGFwaS5cbkl0IGRvZXNudCBjYWNoZSB0aGUgdmVydGljZXMsIHNvIGl0IGNhbGN1bGF0ZXMgdGhlbSBlYWNoIGZyYW1lIHZpYSBhbiBpbW1pZGlhdGUgbW9kZSBhcGkuPC9wPjwvZGl2PjxwPlZlbCByaXN1cyBjb21tb2RvIHZpdmVycmEgbWFlY2VuYXMgYWNjdW1zYW4uIFF1YW0gcGVsbGVudGVzcXVlIG5lYyBuYW0gYWxpcXVhbS4gUG9ydHRpdG9yIHJob25jdXMgZG9sb3IgcHVydXMgbm9uIGVuaW1cbnByYWVzZW50LiBBYyBvZGlvIHRlbXBvciBvcmNpIGRhcGlidXMgdWx0cmljZXMgaW4gaWFjdWxpcy4gU2l0IGFtZXQgY3Vyc3VzIHNpdCBhbWV0IGRpY3R1bSBzaXQgYW1ldC4gRmVsaXMgaW1wZXJkaWV0XG5wcm9pbiBmZXJtZW50dW0gbGVvLiBBZGlwaXNjaW5nIGF0IGluIHRlbGx1cyBpbnRlZ2VyLiBBbWV0IGNvbW1vZG8gbnVsbGEgZmFjaWxpc2kgbnVsbGFtIHZlaGljdWxhIGlwc3VtIGEgYXJjdSBjdXJzdXMuXG5TZWQgbGliZXJvIGVuaW0gc2VkIGZhdWNpYnVzIHR1cnBpcyBpbiBldSBtaSBiaWJlbmR1bS4gUmhvbmN1cyB1cm5hIG5lcXVlIHZpdmVycmEganVzdG8uIFVsdHJpY2VzIHZpdGFlIGF1Y3RvciBldSBhdWd1ZS5cblRyaXN0aXF1ZSBudWxsYSBhbGlxdWV0IGVuaW0gdG9ydG9yLiBOdW5jIG5vbiBibGFuZGl0IG1hc3NhIGVuaW0gbmVjIGR1aSBudW5jLiBMYW9yZWV0IHNpdCBhbWV0IGN1cnN1cyBzaXQgYW1ldCBkaWN0dW0uXG5FbGl0IHVsbGFtY29ycGVyIGRpZ25pc3NpbSBjcmFzIHRpbmNpZHVudCBsb2JvcnRpcyBmZXVnaWF0IHZpdmFtdXMuPC9wPlxuXG48c2NyaXB0PlxuICAgIGltcG9ydCB7IG9uTW91bnQgfSBmcm9tICdzdmVsdGUnO1xuXG4gICAgaW1wb3J0IGpxIGZyb20gJy4vdXRpbHMvcXVlcnknXG5cbiAgICBpbXBvcnQgUGFydGljbGUgZnJvbSAnLi91dGlscy9wYXJ0aWNsZSdcbiAgICBpbXBvcnQgeyB2MiwgbWF0NCB9IGZyb20gJy4vdXRpbHMvbWF0aCdcbiAgICBpbXBvcnQgeyBnZXRUaW1lLCBSZWN0LCBnZXRNaW5BbmRNYXhQb3NpdGlvbiwgYWRkQnV0dG9uIH0gZnJvbSAnLi91dGlscy91dGlsaXR5J1xuICAgIGltcG9ydCBRdWFkdHJlZSBmcm9tICcuL3V0aWxzL3F1YWR0cmVlJ1xuXG4gICAgb25Nb3VudCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gXCJwMmRcIlxuXG4gICAgICAgIGxldCB2ZXJ0aWNlcyA9IFtdXG5cbiAgICAgICAgbGV0IHZpZXdwb3J0U2l6ZSA9IDBcblxuICAgICAgICBsZXQgZ0F0dHJpYkxvY2F0aW9uUHJvak10eFxuXG4gICAgICAgIGxldCBwYXJlbnRcbiAgICAgICAgbGV0IGdsXG5cbiAgICAgICAgbGV0IHZhb1xuICAgICAgICBsZXQgdmJvXG4gICAgICAgIGxldCBwcm9ncmFtXG5cbiAgICAgICAgbGV0IHBvc2l0aW9uQXR0cmliTG9jYXRpb24gPSAwXG4gICAgICAgIGxldCBjb2xvckF0dHJpYkxvY2F0aW9uID0gMVxuXG4gICAgICAgIGxldCBmb2N1c2VkID0gZmFsc2VcblxuICAgICAgICBsZXQgY29tcGFyaXNvbnMgPSAwXG4gICAgICAgIGxldCBoaXRzID0gMFxuXG4gICAgICAgIGxldCBkZXZpY2VQaXhlbFJhdGlvXG5cbiAgICAgICAgbGV0IHRyZWUgPSBbXVxuICAgICAgICBsZXQgYmFja0NvbG9yID0geyByOiAyNTUsIGc6IDI1NSwgYjogMjU1IH1cbiAgICAgICAgbGV0IGZyb250Q29sb3IgPSB7IHI6IDI1NSwgZzogMCwgYjogMjU1IH1cbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gMzAwXG4gICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSAzMDBcbiAgICAgICAgbGV0IGNhbnZhc1xuICAgICAgICBsZXQgdWlcblxuICAgICAgICBsZXQgZW5hYmxlQ29sbGlzaW9uID0gdHJ1ZVxuICAgICAgICBsZXQgc2hvd05vZGVzID0gZmFsc2VcbiAgICAgICAgbGV0IHVzZVF1YWR0cmVlID0gdHJ1ZVxuICAgICAgICBsZXQgdXNlT3B0aW1pemVkQm91bmRzID0gdHJ1ZVxuICAgICAgICBsZXQgc2hvd05laWdoYm91cnMgPSB0cnVlXG4gICAgICAgIGxldCBwYXVzZWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2hvd0luZm9wYW5lbCA9IGZhbHNlXG4gICAgICAgIGxldCBlbmFibGVHcmF2aXR5ID0gZmFsc2VcblxuICAgICAgICBsZXQgcXVhZHRyZWVCb3VuZHNcbiAgICAgICAgbGV0IGFsbEJvdW5kcyA9IFtdXG5cbiAgICAgICAgbGV0IGxhc3RGcHMgPSA2MFxuICAgICAgICBsZXQgbGFzdFRpbWUgPSAwXG5cbiAgICAgICAgbGV0IG1vdXNlID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGFydGljbGVzID0gW11cbiAgICAgICAgbGV0IHBhcnRpY2xlQ29sb3JzID0gW11cbiAgICAgICAgbGV0IHBhcnRpY2xlU2l6ZSA9IDhcbiAgICAgICAgbGV0IHBhcnRpY2xlQ29sb3IgPSB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDEgfVxuXG4gICAgICAgIGxldCBib3VuZHNIaWdobGlnaHRDb2xvciA9IHsgcjogMCwgZzogMSwgYjogMCwgYTogMSB9XG4gICAgICAgIGxldCBoaWdobGlnaHRDb2xvciA9IHsgcjogMSwgZzogMSwgYjogMCwgYTogMSB9XG5cbiAgICAgICAgbGV0IG1vdXNlZG93biA9IGZhbHNlXG5cbiAgICAgICAgY29uc3QgZWwgPSBqcSgnPGNhbnZhcz4nKVxuICAgICAgICBjYW52YXMgPSBlbFxuICAgICAgICBlbC5pZCA9IGAke2lkfS1jYW52YXNgXG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gJ3dlYmdsIGNhbnZhcyBwbGFjZWhvbGRlcidcblxuICAgICAgICBwYXJlbnQgPSBqcShgIyR7aWR9YClcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGVsKVxuXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4gKGZvY3VzZWQgPSAhZm9jdXNlZCkpXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gKGZvY3VzZWQgPSAhZm9jdXNlZCkpXG5cbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldikgPT4ge1xuICAgICAgICAgICAgdXBkYXRlTW91c2VQb3MoZXYpXG4gICAgICAgICAgICBpZiAobW91c2Vkb3duKSBzcGF3blBhcnRpY2xlKClcbiAgICAgICAgfSlcblxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gbW91c2Vkb3duID0gdHJ1ZSlcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiBtb3VzZWRvd24gPSBmYWxzZSlcblxuXG4gICAgICAgIGNvbnN0IGRpdiA9IGpxKCc8ZGl2PicpXG4gICAgICAgIGRpdi5pZCA9IGAke3BhcmVudC5pZH0tc2V0dGluZ3NgXG4gICAgICAgIHBhcmVudC5hcHBlbmQoZGl2KVxuXG4gICAgICAgIC8vIHNldEludGVydmFsKHVwZGF0ZVVJLCAxMDAwKVxuXG4gICAgICAgIC8vIGFkZFVJKClcblxuICAgICAgICBhZGRCdXR0b24oe1xuICAgICAgICAgICAgbGFiZWw6ICdjbGVhcicsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdidG4gc21hbGwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGVyYXNlLFxuICAgICAgICAgICAgcGFyZW50OiBkaXYuaWQsXG4gICAgICAgIH0pXG5cbiAgICAgICAgYWRkQnV0dG9uKHtcbiAgICAgICAgICAgIGxhYmVsOiAnc2hvdyBuZWlnaGJvdXJzJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0biBzbWFsbCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNob3dOZWlnaGJvdXJzID0gIXNob3dOZWlnaGJvdXJzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiBkaXYuaWQsXG4gICAgICAgIH0pXG5cbiAgICAgICAgYWRkQnV0dG9uKHtcbiAgICAgICAgICAgIGxhYmVsOiAncXVhZHRyZWUnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuIHNtYWxsJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXNlUXVhZHRyZWUgXj0gMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogZGl2LmlkLFxuICAgICAgICB9KVxuICAgICAgICBhZGRCdXR0b24oe1xuICAgICAgICAgICAgbGFiZWw6ICdvcHRpbWl6ZWQgcXVhZHRyZWUgYm91bmRzJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0biBzbWFsbCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVzZU9wdGltaXplZEJvdW5kcyBePSAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiBkaXYuaWQsXG4gICAgICAgIH0pXG4gICAgICAgIGFkZEJ1dHRvbih7XG4gICAgICAgICAgICBsYWJlbDogJ3Nob3cgcXVhZHRyZWUgbm9kZXMnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuIHNtYWxsJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2hvd05vZGVzIF49IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJlbnQ6IGRpdi5pZCxcbiAgICAgICAgfSlcbiAgICAgICAgYWRkQnV0dG9uKHtcbiAgICAgICAgICAgIGxhYmVsOiAnY29sbGlzaW9ucycsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdidG4gc21hbGwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBlbmFibGVDb2xsaXNpb24gXj0gMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogZGl2LmlkLFxuICAgICAgICB9KVxuICAgICAgICBhZGRCdXR0b24oe1xuICAgICAgICAgICAgbGFiZWw6ICdncmF2aXR5JyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0biBzbWFsbCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVuYWJsZUdyYXZpdHkgXj0gMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogZGl2LmlkLFxuICAgICAgICB9KVxuICAgICAgICBhZGRCdXR0b24oe1xuICAgICAgICAgICAgbGFiZWw6ICdpbmZvJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0biBzbWFsbCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNob3dJbmZvcGFuZWwgXj0gMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogZGl2LmlkLFxuICAgICAgICB9KVxuICAgICAgICBhZGRCdXR0b24oe1xuICAgICAgICAgICAgbGFiZWw6ICdwYXVzZScsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdidG4gc21hbGwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwYXVzZWQgXj0gMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogZGl2LmlkLFxuICAgICAgICB9KVxuXG4gICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicpXG5cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgYWxlcnQoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMLiBZb3VyIGJyb3dzZXIgbWF5IG5vdCBzdXBwb3J0IGl0LidcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKVxuICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKVxuXG4gICAgICAgIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKClcbiAgICAgICAgbGV0IHZzID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpXG4gICAgICAgIGxldCBmcyA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpXG5cbiAgICAgICAgbGV0IHZzX3NyYyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICAgICAgdW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uO1xuICAgICAgICBhdHRyaWJ1dGUgdmVjNCBjb2xvcjtcblxuICAgICAgICB2YXJ5aW5nIHZlYzQgY29sb3IwO1xuXG4gICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcbiAgICAgICAgICAgIGNvbG9yMCA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGBcblxuICAgICAgICBsZXQgZnNfc3JjID0gYFxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiAgICAgICAgdmFyeWluZyB2ZWM0IGNvbG9yMDtcbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yMDtcbiAgICAgICAgfWBcblxuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodnMsIHZzX3NyYylcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKGZzLCBmc19zcmMpXG5cbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih2cylcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodnMsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnRVJST1IgY29tcGlsaW5nIHZlcnRleCBzaGFkZXIhJyxcbiAgICAgICAgICAgICAgICBnbC5nZXRTaGFkZXJJbmZvTG9nKHZzKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBnbC5jb21waWxlU2hhZGVyKGZzKVxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcywgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdFUlJPUiBjb21waWxpbmcgZnJhZ21lbnQgc2hhZGVyIScsXG4gICAgICAgICAgICAgICAgZ2wuZ2V0U2hhZGVySW5mb0xvZyhmcylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZzKVxuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnMpXG5cbiAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIHBvc2l0aW9uQXR0cmliTG9jYXRpb24sICdwb3NpdGlvbicpXG4gICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBjb2xvckF0dHJpYkxvY2F0aW9uLCAnY29sb3InKVxuXG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pXG4gICAgICAgIGdsLnZhbGlkYXRlUHJvZ3JhbShwcm9ncmFtKVxuXG4gICAgICAgIGdBdHRyaWJMb2NhdGlvblByb2pNdHggPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgICAgICBwcm9ncmFtLFxuICAgICAgICAgICAgJ3Byb2plY3Rpb25NYXRyaXgnXG4gICAgICAgIClcblxuICAgICAgICBnbC5kZWxldGVTaGFkZXIodnMpXG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcylcblxuICAgICAgICB2YW8gPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpXG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pXG5cbiAgICAgICAgdmJvID0gZ2wuY3JlYXRlQnVmZmVyKClcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZibylcblxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJMb2NhdGlvbixcbiAgICAgICAgICAgIDIsXG4gICAgICAgICAgICBnbC5GTE9BVCxcbiAgICAgICAgICAgIGdsLkZBTFNFLFxuICAgICAgICAgICAgNiAqIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKVxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgICAgY29sb3JBdHRyaWJMb2NhdGlvbixcbiAgICAgICAgICAgIDQsXG4gICAgICAgICAgICBnbC5GTE9BVCxcbiAgICAgICAgICAgIGdsLkZBTFNFLFxuICAgICAgICAgICAgNiAqIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxcbiAgICAgICAgICAgIDIgKiBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlRcbiAgICAgICAgKVxuXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmliTG9jYXRpb24pXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGNvbG9yQXR0cmliTG9jYXRpb24pXG5cbiAgICAgICAgY29uc3QgcmVzb2x2ZUNvbGxpc2lvbnMgPSBwYXJ0aWNsZXMgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbXBhcmlzb25zID0gMFxuICAgICAgICAgICAgbGV0IGhpdHMgPSAwXG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZUNvdW50ID0gcGFydGljbGVzLmxlbmd0aFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0aWNsZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBwYXJ0aWNsZUNvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRpY2xlc1tpXS5jb2xsaWRlc1dpdGgocGFydGljbGVzW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGVzW2ldLnJlc29sdmVDb2xsaXNpb24ocGFydGljbGVzW2pdKVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0cysrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29tcGFyaXNvbnMrK1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb21wYXJpc29uczogY29tcGFyaXNvbnMsXG4gICAgICAgICAgICAgICAgaGl0czogaGl0cyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc29sdmVDb2xsaXNpb25zUXVhZHRyZWUgPSAocGFydGljbGVzLCB0cmVlKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29tcGFyaXNvbnMgPSAwXG4gICAgICAgICAgICBsZXQgaGl0cyA9IDBcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0cmVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUNvdW50ID0gbm9kZS5sZW5ndGhcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IG5vZGVDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydGljbGVzW25vZGVbaV1dLmNvbGxpZGVzV2l0aChwYXJ0aWNsZXNbbm9kZVtqXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGVzW25vZGVbaV1dLnJlc29sdmVDb2xsaXNpb24ocGFydGljbGVzW25vZGVbal1dKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdHMrK1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyaXNvbnMrK1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb21wYXJpc29uczogY29tcGFyaXNvbnMsXG4gICAgICAgICAgICAgICAgaGl0czogaGl0cyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4dHJhY3RSR0IgPSBzdHIgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmdiID0gc3RyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZyg0LCBzdHIubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvIC9nLCAnJylcbiAgICAgICAgICAgICAgICAuc3BsaXQoJywnKVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHJnYlswXSxcbiAgICAgICAgICAgICAgICBnOiByZ2JbMV0sXG4gICAgICAgICAgICAgICAgYjogcmdiWzJdLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gcmdiYSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHJnYmEuciAvIDI1NSxcbiAgICAgICAgICAgICAgICBnOiByZ2JhLmcgLyAyNTUsXG4gICAgICAgICAgICAgICAgYjogcmdiYS5iIC8gMjU1LFxuICAgICAgICAgICAgICAgIGE6IHJnYmEuYSB8fCByZ2JhLmEgLyAyNTUsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcmF3VHJpYW5nbGUgPSAocG9zaXRpb25zLCBjb2xvciwgc2l6ZSkgPT4ge1xuICAgICAgICAgICAgYWRkVmVydGljZXMoW1xuICAgICAgICAgICAgICAgIC1zaXplICsgcG9zaXRpb25zLngsXG4gICAgICAgICAgICAgICAgLXNpemUgKyBwb3NpdGlvbnMueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9ucy54LFxuICAgICAgICAgICAgICAgIHNpemUgKyBwb3NpdGlvbnMueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgICAgIHNpemUgKyBwb3NpdGlvbnMueCxcbiAgICAgICAgICAgICAgICAtc2l6ZSArIHBvc2l0aW9ucy55LFxuICAgICAgICAgICAgICAgIGNvbG9yLnIsXG4gICAgICAgICAgICAgICAgY29sb3IuZyxcbiAgICAgICAgICAgICAgICBjb2xvci5iLFxuICAgICAgICAgICAgICAgIGNvbG9yLmEsXG4gICAgICAgICAgICBdKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhd1JlY3RSYW5nZSA9IChtaW4sIG1heCwgY29sb3IpID0+IHtcbiAgICAgICAgICAgIGFkZFZlcnRpY2VzKFtcbiAgICAgICAgICAgICAgICBtaW4ueCxcbiAgICAgICAgICAgICAgICBtYXgueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgICAgIG1heC54LFxuICAgICAgICAgICAgICAgIG1heC55LFxuICAgICAgICAgICAgICAgIGNvbG9yLnIsXG4gICAgICAgICAgICAgICAgY29sb3IuZyxcbiAgICAgICAgICAgICAgICBjb2xvci5iLFxuICAgICAgICAgICAgICAgIGNvbG9yLmEsXG4gICAgICAgICAgICAgICAgbWF4LngsXG4gICAgICAgICAgICAgICAgbWluLnksXG4gICAgICAgICAgICAgICAgY29sb3IucixcbiAgICAgICAgICAgICAgICBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGNvbG9yLmIsXG4gICAgICAgICAgICAgICAgY29sb3IuYSxcblxuICAgICAgICAgICAgICAgIG1pbi54LFxuICAgICAgICAgICAgICAgIG1heC55LFxuICAgICAgICAgICAgICAgIGNvbG9yLnIsXG4gICAgICAgICAgICAgICAgY29sb3IuZyxcbiAgICAgICAgICAgICAgICBjb2xvci5iLFxuICAgICAgICAgICAgICAgIGNvbG9yLmEsXG4gICAgICAgICAgICAgICAgbWF4LngsXG4gICAgICAgICAgICAgICAgbWluLnksXG4gICAgICAgICAgICAgICAgY29sb3IucixcbiAgICAgICAgICAgICAgICBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGNvbG9yLmIsXG4gICAgICAgICAgICAgICAgY29sb3IuYSxcbiAgICAgICAgICAgICAgICBtaW4ueCxcbiAgICAgICAgICAgICAgICBtaW4ueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgXSlcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkcmF3SG9sbG93UmVjdFJhbmdlID0gKG1pbiwgbWF4LCBjb2xvciwgYm9yZGVyV2lkdGgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhib3JkZXJ3ID0gYm9yZGVyV2lkdGggKiAwLjVcblxuICAgICAgICAgICAgY29uc3QgdG9wbGVmdCA9IG5ldyB2MihtaW4ueCwgbWF4LnkpXG4gICAgICAgICAgICBjb25zdCB0b3ByaWdodCA9IG1heFxuICAgICAgICAgICAgY29uc3QgYm90dG9tcmlnaHQgPSBuZXcgdjIobWF4LngsIG1pbi55KVxuICAgICAgICAgICAgY29uc3QgYm90dG9tbGVmdCA9IG1pblxuXG4gICAgICAgICAgICBkcmF3UmVjdFJhbmdlKFxuICAgICAgICAgICAgICAgIHYyLnN1YnModG9wbGVmdCwgaGJvcmRlcncpLFxuICAgICAgICAgICAgICAgIHYyLmFkZHModG9wcmlnaHQsIGhib3JkZXJ3KSxcbiAgICAgICAgICAgICAgICBjb2xvclxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZHJhd1JlY3RSYW5nZShcbiAgICAgICAgICAgICAgICB2Mi5hZGRzKHRvcHJpZ2h0LCBoYm9yZGVydyksXG4gICAgICAgICAgICAgICAgdjIuc3Vicyhib3R0b21yaWdodCwgaGJvcmRlcncpLFxuICAgICAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBkcmF3UmVjdFJhbmdlKFxuICAgICAgICAgICAgICAgIHYyLmFkZHMoYm90dG9tcmlnaHQsIGhib3JkZXJ3KSxcbiAgICAgICAgICAgICAgICB2Mi5zdWJzKGJvdHRvbWxlZnQsIGhib3JkZXJ3KSxcbiAgICAgICAgICAgICAgICBjb2xvclxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZHJhd1JlY3RSYW5nZShcbiAgICAgICAgICAgICAgICB2Mi5hZGRzKGJvdHRvbWxlZnQsIGhib3JkZXJ3KSxcbiAgICAgICAgICAgICAgICB2Mi5zdWJzKHRvcGxlZnQsIGhib3JkZXJ3KSxcbiAgICAgICAgICAgICAgICBjb2xvclxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRyYXdIb2xsb3dSZWN0ID0gKHBvc2l0aW9uLCBjb2xvciwgc2l6ZSwgYm9yZGVyV2lkdGgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhib3JkZXJ3ID0gYm9yZGVyV2lkdGggKiAwLjVcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IHYyLnN1YnMocG9zaXRpb24sIHNpemUpXG4gICAgICAgICAgICBjb25zdCBtYXggPSB2Mi5hZGRzKHBvc2l0aW9uLCBzaXplKVxuXG4gICAgICAgICAgICBjb25zdCB0b3BsZWZ0ID0gbmV3IHYyKG1pbi54LCBtYXgueSlcbiAgICAgICAgICAgIGNvbnN0IHRvcHJpZ2h0ID0gbWF4XG4gICAgICAgICAgICBjb25zdCBib3R0b21yaWdodCA9IG5ldyB2MihtYXgueCwgbWluLnkpXG4gICAgICAgICAgICBjb25zdCBib3R0b21sZWZ0ID0gbWluXG5cbiAgICAgICAgICAgIGRyYXdSZWN0UmFuZ2UoXG4gICAgICAgICAgICAgICAgdjIuc3Vicyh0b3BsZWZ0LCBoYm9yZGVydyksXG4gICAgICAgICAgICAgICAgdjIuYWRkcyh0b3ByaWdodCwgaGJvcmRlcncpLFxuICAgICAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBkcmF3UmVjdFJhbmdlKFxuICAgICAgICAgICAgICAgIHYyLmFkZHModG9wcmlnaHQsIGhib3JkZXJ3KSxcbiAgICAgICAgICAgICAgICB2Mi5zdWJzKGJvdHRvbXJpZ2h0LCBoYm9yZGVydyksXG4gICAgICAgICAgICAgICAgY29sb3JcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGRyYXdSZWN0UmFuZ2UoXG4gICAgICAgICAgICAgICAgdjIuYWRkcyhib3R0b21yaWdodCwgaGJvcmRlcncpLFxuICAgICAgICAgICAgICAgIHYyLnN1YnMoYm90dG9tbGVmdCwgaGJvcmRlcncpLFxuICAgICAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBkcmF3UmVjdFJhbmdlKFxuICAgICAgICAgICAgICAgIHYyLmFkZHMoYm90dG9tbGVmdCwgaGJvcmRlcncpLFxuICAgICAgICAgICAgICAgIHYyLnN1YnModG9wbGVmdCwgaGJvcmRlcncpLFxuICAgICAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHJhd1JlY3QgPSAocG9zaXRpb24sIGNvbG9yLCBzaXplKSA9PiB7XG4gICAgICAgICAgICBhZGRWZXJ0aWNlcyhbXG4gICAgICAgICAgICAgICAgLXNpemUgKyBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHNpemUgKyBwb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgIGNvbG9yLnIsXG4gICAgICAgICAgICAgICAgY29sb3IuZyxcbiAgICAgICAgICAgICAgICBjb2xvci5iLFxuICAgICAgICAgICAgICAgIGNvbG9yLmEsXG4gICAgICAgICAgICAgICAgc2l6ZSArIHBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgc2l6ZSArIHBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgY29sb3IucixcbiAgICAgICAgICAgICAgICBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGNvbG9yLmIsXG4gICAgICAgICAgICAgICAgY29sb3IuYSxcbiAgICAgICAgICAgICAgICBzaXplICsgcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICAtc2l6ZSArIHBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgY29sb3IucixcbiAgICAgICAgICAgICAgICBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGNvbG9yLmIsXG4gICAgICAgICAgICAgICAgY29sb3IuYSxcblxuICAgICAgICAgICAgICAgIC1zaXplICsgcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICBzaXplICsgcG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgICAgIHNpemUgKyBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIC1zaXplICsgcG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgICAgIC1zaXplICsgcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICAtc2l6ZSArIHBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgY29sb3IucixcbiAgICAgICAgICAgICAgICBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGNvbG9yLmIsXG4gICAgICAgICAgICAgICAgY29sb3IuYSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcmF3SG9sbG93Q2lyY2xlID0gKFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBib3JkZXJXaWR0aCxcbiAgICAgICAgICAgIG51bV92ZXJ0aWNlc1xuICAgICAgICApID0+IHtcbiAgICAgICAgICAgIGxldCBwMSA9IG5ldyB2Mihwb3NpdGlvbi54ICsgc2l6ZSwgcG9zaXRpb24ueSlcbiAgICAgICAgICAgIGxldCBwMlxuICAgICAgICAgICAgY29uc3QgVFdPX1BJID0gTWF0aC5QSSAqIDJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bV92ZXJ0aWNlcyArIDM7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSAoaSAqIFRXT19QSSkgLyBudW1fdmVydGljZXNcbiAgICAgICAgICAgICAgICBwMiA9IG5ldyB2MihcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueCArIHNpemUgKiBNYXRoLmNvcyh0KSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueSArIHNpemUgKiBNYXRoLnNpbih0KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBkcmF3TGluZShwMSwgcDIsIGNvbG9yLCBib3JkZXJXaWR0aClcbiAgICAgICAgICAgICAgICBwMSA9IHAyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcmF3TGluZSA9IChwMSwgcDIsIGNvbG9yLCBzaXplKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2l6ZSA8IDAuMCkgc2l6ZSA9IDAuMDAxXG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgZGlzdGFuY2UgYmV0d2VlbiBvdXIgdHdvIHBvaW50c1xuICAgICAgICAgICAgbGV0IGQgPSB2Mi5kaXN0YW5jZShwMSwgcDIpICogMC41XG5cbiAgICAgICAgICAgIGxldCBkeCA9IHAyLnggLSBwMS54XG4gICAgICAgICAgICBsZXQgZHkgPSBwMi55IC0gcDEueVxuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gb3VyIHR3byBwb2ludHMgKHJhZGlhbnMpXG4gICAgICAgICAgICBsZXQgdGhldGEgPSBNYXRoLmF0YW4yKGR5LCBkeClcblxuICAgICAgICAgICAgbGV0IHMgPSBzaXplXG5cbiAgICAgICAgICAgIGxldCBjZW50ZXIgPSB2Mi5hZGQocDEsIHAyKS5zY2FsZSgwLjUpXG5cbiAgICAgICAgICAgIC8vIERyYXcgY2VudGVyIGRlYnVnIHJlY3RzXG4gICAgICAgICAgICBsZXQgYm90ID0geyB4OiBjZW50ZXIueCAtIGQgKyBzLCB5OiBjZW50ZXIueSB9XG4gICAgICAgICAgICBsZXQgdG9wID0geyB4OiBjZW50ZXIueCArIGQgLSBzLCB5OiBjZW50ZXIueSB9XG5cbiAgICAgICAgICAgIC8vIFJvdGF0ZVxuICAgICAgICAgICAgY29uc3QgbWluID0gdjIuc3Vicyhib3QsIHMpXG4gICAgICAgICAgICBjb25zdCBtYXggPSB2Mi5hZGRzKHRvcCwgcylcblxuICAgICAgICAgICAgLy8gUDEgYW5kIFAyIHNob3VsZCBiZSBtaW4gYW5kIG1heFxuICAgICAgICAgICAgY29uc3QgcG9zMiA9IFtcbiAgICAgICAgICAgICAgICBuZXcgdjIobWluLngsIG1heC55KSxcbiAgICAgICAgICAgICAgICBuZXcgdjIobWF4LngsIG1heC55KSxcbiAgICAgICAgICAgICAgICBuZXcgdjIobWF4LngsIG1pbi55KSxcbiAgICAgICAgICAgICAgICBuZXcgdjIobWluLngsIG1heC55KSxcbiAgICAgICAgICAgICAgICBuZXcgdjIobWF4LngsIG1pbi55KSxcbiAgICAgICAgICAgICAgICBuZXcgdjIobWluLngsIG1pbi55KSxcbiAgICAgICAgICAgIF1cblxuICAgICAgICAgICAgY29uc3QgY3RoID0gTWF0aC5jb3ModGhldGEpXG4gICAgICAgICAgICBjb25zdCBzdGggPSBNYXRoLnNpbih0aGV0YSlcblxuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBwb3MyKSB7XG4gICAgICAgICAgICAgICAgLy8gY3gsIGN5IC0gY2VudGVyIG9mIHNxdWFyZSBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgIC8vIHgsIHkgLSBjb29yZGluYXRlcyBvZiBhIGNvcm5lciBwb2ludCBvZiB0aGUgc3F1YXJlXG4gICAgICAgICAgICAgICAgLy8gdGhldGEgaXMgdGhlIGFuZ2xlIG9mIHJvdGF0aW9uXG5cbiAgICAgICAgICAgICAgICAvLyB0cmFuc2xhdGUgcG9pbnQgdG8gb3JpZ2luXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcFggPSBwLnggLSBjZW50ZXIueFxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBZID0gcC55IC0gY2VudGVyLnlcblxuICAgICAgICAgICAgICAgIC8vIG5vdyBhcHBseSByb3RhdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRYID0gdGVtcFggKiBjdGggLSB0ZW1wWSAqIHN0aFxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRZID0gdGVtcFggKiBzdGggKyB0ZW1wWSAqIGN0aFxuXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNsYXRlIGJhY2tcbiAgICAgICAgICAgICAgICBwLnggPSByb3RhdGVkWCArIGNlbnRlci54XG4gICAgICAgICAgICAgICAgcC55ID0gcm90YXRlZFkgKyBjZW50ZXIueVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRWZXJ0aWNlcyhbXG4gICAgICAgICAgICAgICAgcG9zMlswXS54LFxuICAgICAgICAgICAgICAgIHBvczJbMF0ueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgICAgIHBvczJbMV0ueCxcbiAgICAgICAgICAgICAgICBwb3MyWzFdLnksXG4gICAgICAgICAgICAgICAgY29sb3IucixcbiAgICAgICAgICAgICAgICBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGNvbG9yLmIsXG4gICAgICAgICAgICAgICAgY29sb3IuYSxcbiAgICAgICAgICAgICAgICBwb3MyWzJdLngsXG4gICAgICAgICAgICAgICAgcG9zMlsyXS55LFxuICAgICAgICAgICAgICAgIGNvbG9yLnIsXG4gICAgICAgICAgICAgICAgY29sb3IuZyxcbiAgICAgICAgICAgICAgICBjb2xvci5iLFxuICAgICAgICAgICAgICAgIGNvbG9yLmEsXG4gICAgICAgICAgICAgICAgcG9zMlszXS54LFxuICAgICAgICAgICAgICAgIHBvczJbM10ueSxcbiAgICAgICAgICAgICAgICBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGNvbG9yLmcsXG4gICAgICAgICAgICAgICAgY29sb3IuYixcbiAgICAgICAgICAgICAgICBjb2xvci5hLFxuICAgICAgICAgICAgICAgIHBvczJbNF0ueCxcbiAgICAgICAgICAgICAgICBwb3MyWzRdLnksXG4gICAgICAgICAgICAgICAgY29sb3IucixcbiAgICAgICAgICAgICAgICBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGNvbG9yLmIsXG4gICAgICAgICAgICAgICAgY29sb3IuYSxcbiAgICAgICAgICAgICAgICBwb3MyWzVdLngsXG4gICAgICAgICAgICAgICAgcG9zMls1XS55LFxuICAgICAgICAgICAgICAgIGNvbG9yLnIsXG4gICAgICAgICAgICAgICAgY29sb3IuZyxcbiAgICAgICAgICAgICAgICBjb2xvci5iLFxuICAgICAgICAgICAgICAgIGNvbG9yLmEsXG4gICAgICAgICAgICBdKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhd0hhbGZDaXJjbGUgPSAoY2VudGVyLCBjb2xvciwgcmFkaXVzLCBhbmdsZSwgbnVtVmVydGV4KSA9PiB7XG4gICAgICAgICAgICAvLyBTaW5jZSBlYWNoIHZlcnRleCBjb25zaXN0cyBvZiAzIHBvaW50cy5cbiAgICAgICAgICAgIGNvbnN0IG5fdmVydGljZXMgPSBudW1WZXJ0ZXggKiAzXG5cbiAgICAgICAgICAgIC8vIFNldHVwIHRoZSBwYXJ0aWNsZSB2ZXJ0aWNlc1xuICAgICAgICAgICAgbGV0IHZlcnRzID0gW11cblxuICAgICAgICAgICAgLy8gU3RhcnQgb3V0IGJ5IHNldHRpbmcgdGhlIGxhc3QgaW5zZXJ0ZWQgdmVydGV4IHRvIG91ciBjZW50ZXJcbiAgICAgICAgICAgIGxldCBsYXN0X3ZlcnQgPSBjZW50ZXJcblxuICAgICAgICAgICAgbGV0IGsgPSAwXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5fdmVydGljZXMgKyAzOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBQb3NcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgayArPSAxXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGxhc3RfdmVydC54KVxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChsYXN0X3ZlcnQueSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMToge1xuICAgICAgICAgICAgICAgICAgICAgICAgayArPSAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ID0gYW5nbGUgKyAoKGkgLSAxKSAqIE1hdGguUEkpIC8gbl92ZXJ0aWNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF92ZXJ0ID0gbmV3IHYyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlci54ICsgcmFkaXVzICogTWF0aC5jb3MoY29udCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyLnkgKyByYWRpdXMgKiBNYXRoLnNpbihjb250KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChsYXN0X3ZlcnQueClcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gobGFzdF92ZXJ0LnkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGsgPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGNlbnRlci54KVxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChjZW50ZXIueSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBrID0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDb2xvclxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goY29sb3IucilcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGNvbG9yLmcpXG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChjb2xvci5iKVxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goY29sb3IuYSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFZlcnRpY2VzKHZlcnRzKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhd0NpcmNsZSA9IChjZW50ZXIsIGNvbG9yLCBzaXplLCBudW1fdmVydGljZXMpID0+IHtcbiAgICAgICAgICAgIC8vIFNldHVwIHRoZSBwYXJ0aWNsZSB2ZXJ0aWNlc1xuICAgICAgICAgICAgbGV0IHZlcnRzID0gW11cblxuICAgICAgICAgICAgbGV0IGxhc3RfdmVydCA9IGNlbnRlclxuXG4gICAgICAgICAgICBsZXQgayA9IDBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtX3ZlcnRpY2VzICsgMzsgKytpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChsYXN0X3ZlcnQueClcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gobGFzdF92ZXJ0LnkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gKGkgKiBNYXRoLlBJICogMi4wKSAvIG51bV92ZXJ0aWNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF92ZXJ0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGNlbnRlci54ICsgc2l6ZSAqIE1hdGguY29zKHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNlbnRlci55ICsgc2l6ZSAqIE1hdGguc2luKHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChsYXN0X3ZlcnQueClcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gobGFzdF92ZXJ0LnkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBrID0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChjZW50ZXIueClcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goY2VudGVyLnkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goY29sb3IucilcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGNvbG9yLmcpXG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChjb2xvci5iKVxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goY29sb3IuYSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZlcnRzLmxlbmd0aCwgbnVtX3ZlcnRpY2VzKVxuICAgICAgICAgICAgYWRkVmVydGljZXModmVydHMpXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRWZXJ0aWNlcyAodmVydHMpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvdXIgdmVydGljZXNcbiAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goLi4udmVydHMpXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVWYWx1ZXMgKCkge1xuICAgICAgICAgICAgY2FudmFzV2lkdGggPSBwYXJlbnQub2Zmc2V0V2lkdGggLSAxICogZGV2aWNlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ID0gNTAwIC0gMSAqIGRldmljZVBpeGVsUmF0aW9cblxuICAgICAgICAgICAgdmFyIGRlc2lyZWRDU1NXaWR0aCA9IGNhbnZhc1dpZHRoXG4gICAgICAgICAgICB2YXIgZGVzaXJlZENTU0hlaWdodCA9IGNhbnZhc0hlaWdodFxuICAgICAgICAgICAgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDFcblxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gZGVzaXJlZENTU1dpZHRoICogZGV2aWNlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGRlc2lyZWRDU1NIZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvXG5cbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IGRlc2lyZWRDU1NXaWR0aCArICdweCdcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBkZXNpcmVkQ1NTSGVpZ2h0ICsgJ3B4J1xuXG4gICAgICAgICAgICBjYW52YXNXaWR0aCAqPSBkZXZpY2VQaXhlbFJhdGlvXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQgKj0gZGV2aWNlUGl4ZWxSYXRpb1xuXG4gICAgICAgICAgICBmcm9udENvbG9yID0gbm9ybWFsaXplKHdpbmRvdy5jb2xvci50ZXh0Tm9ybWFsKVxuICAgICAgICAgICAgZnJvbnRDb2xvci5hID0gMVxuXG4gICAgICAgICAgICBiYWNrQ29sb3IgPSBub3JtYWxpemUod2luZG93LmNvbG9yLmJhY2tncm91bmQpXG4gICAgICAgICAgICBiYWNrQ29sb3IuYSA9IDFcblxuICAgICAgICAgICAgYm91bmRzSGlnaGxpZ2h0Q29sb3IgPSBub3JtYWxpemUod2luZG93LmNvbG9yLnRleHRIaWdobGlnaHQpXG4gICAgICAgICAgICBib3VuZHNIaWdobGlnaHRDb2xvci5hID0gMVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZXJhc2UoKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZXMubGVuZ3RoID0gMFxuICAgICAgICAgICAgcGFydGljbGVDb2xvcnMubGVuZ3RoID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZHJhd1VJICgpIHtcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIGN1cnNvciBhcyBhIGhvbGxvdyBjaXJjbGUgd2l0aCB0aGUgY3VycmVudCBzZWxlY3RlZCBzaXplLlxuXG4gICAgICAgICAgICAvLyBCdXQgb25seSBpZiBpdCBpcyBpbnNpZGUgdGhlIGNhbnZhc1xuICAgICAgICAgICAgaWYgKGZvY3VzZWQpXG4gICAgICAgICAgICAgICAgZHJhd0hvbGxvd0NpcmNsZShcbiAgICAgICAgICAgICAgICAgICAgbW91c2UsXG4gICAgICAgICAgICAgICAgICAgIGZyb250Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnRpY2xlU2l6ZSgpLFxuICAgICAgICAgICAgICAgICAgICAwLjUgKiBkZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICAzNlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBiYXNlTGluZUNvbXBhcmlzb25zKCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHBhcnRpY2xlcy5sZW5ndGhcbiAgICAgICAgICAgIHJldHVybiAobiAqIChuIC0gMSkpIC8gMlxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNvbXBhcmlzb25zRGVsdGEoKSB7XG4gICAgICAgICAgICByZXR1cm4gYmFzZUxpbmVDb21wYXJpc29ucygpIC8gY29tcGFyaXNvbnNcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRVSSAoKXtcbiAgICAgICAgICAgIHVpID0ganEoJzx1bD4nKVxuICAgICAgICAgICAgdWkuaWQgPSBgJHtwYXJlbnQuaWR9LWluZm9gXG4gICAgICAgICAgICB1aS5jbGFzc05hbWUgPSAnZGVtby1pbmZvLWxpc3QnXG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHVpLCBjYW52YXMpXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVVSSAoc2hvdyA9IHRydWUsIGZvbnRTaXplID0gMTQpe1xuICAgICAgICAgICAgdWkuaW5uZXJIVE1MID0gJydcbiAgICAgICAgICAgIHVpLnN0eWxlID0gYGZvbnQtc2l6ZTogJHtmb250U2l6ZX1weDsgZGlzcGxheTogJHtcbiAgICAgICAgICAgICAgICBzaG93ID8gJ2lubGluZScgOiAnbm9uZSdcbiAgICAgICAgICAgIH07YFxuICAgICAgICAgICAgY29uc3QgbGFiZWxzID0gW1xuICAgICAgICAgICAgICAgIGBGUFM6ICR7bGFzdEZwc31gLFxuICAgICAgICAgICAgICAgIGBQYXJ0aWNsZXM6ICR7cGFydGljbGVzLmxlbmd0aH1gLFxuICAgICAgICAgICAgICAgIGBDb21wYXJpc29uczogJHtjb21wYXJpc29uc30oJHtjb21wYXJpc29uc0RlbHRhKCkudG9GaXhlZCgwKX14KWAsXG4gICAgICAgICAgICBdXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGFiZWwgb2YgbGFiZWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbCA9IGpxKCc8bGk+JylcbiAgICAgICAgICAgICAgICBsLnRleHRDb250ZW50ID0gbGFiZWxcbiAgICAgICAgICAgICAgICBsLmNsYXNzTmFtZSA9ICdkZW1vLWluZm8tbGlzdC1lbGVtZW50J1xuICAgICAgICAgICAgICAgIHVpLmFwcGVuZENoaWxkKGwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRSZWxhdGl2ZU1vdXNlUG9zaXRpb24gKGV2ZW50LCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldCB8fCBldmVudC50YXJnZXRcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1vdXNlUG9zIChldmVudCwgdGFyZ2V0KSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQgfHwgZXZlbnQudGFyZ2V0XG4gICAgICAgICAgICBsZXQgcG9zID0gZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCB0YXJnZXQpXG5cbiAgICAgICAgICAgIHBvcy54ICo9IGRldmljZVBpeGVsUmF0aW9cbiAgICAgICAgICAgIHBvcy55ICo9IGRldmljZVBpeGVsUmF0aW9cblxuICAgICAgICAgICAgbW91c2UgPSBwb3NcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE1vdXNlUG9zSW5WaWV3c3BhY2UgKCl7XG4gICAgICAgICAgICBjb25zdCB4ID0gbW91c2UueFxuICAgICAgICAgICAgY29uc3QgeSA9IG1vdXNlLnlcblxuICAgICAgICAgICAgY29uc3QgdyA9IGNhbnZhc1dpZHRoXG4gICAgICAgICAgICBjb25zdCBoID0gY2FudmFzSGVpZ2h0XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogLTEuMCArICgyICogeCkgLyB3IC8gZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICB5OiAxLjAgLSAoMiAqIHkpIC8gaCAvIGRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkcmF3QWxsUGFydGljbGVzKCkge1xuICAgICAgICAgICAgY29uc3QgcGFydGljbGVDb3VudCA9IHBhcnRpY2xlcy5sZW5ndGhcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gMzZcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljbGVDb3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydGljbGUgPSBwYXJ0aWNsZXNbaV1cbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHBhcnRpY2xlLnBvc2l0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gcGFydGljbGUucmFkaXVzXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBwYXJ0aWNsZUNvbG9yc1tpXVxuICAgICAgICAgICAgICAgIGRyYXdDaXJjbGUocG9zaXRpb24sIGNvbG9yLCByYWRpdXMsIHZlcnRleENvdW50KVxuICAgICAgICAgICAgICAgIGRyYXdIb2xsb3dDaXJjbGUoXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBiYWNrQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgMC4zICogZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4Q291bnRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcGFydGljbGVDb2xvcnNbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHI6IGZyb250Q29sb3IucixcbiAgICAgICAgICAgICAgICAgICAgZzogZnJvbnRDb2xvci5nLFxuICAgICAgICAgICAgICAgICAgICBiOiBmcm9udENvbG9yLmIsXG4gICAgICAgICAgICAgICAgICAgIGE6IDEsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3Bhd25QYXJ0aWNsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBnZXRQYXJ0aWNsZVNpemUoKVxuICAgICAgICAgICAgbGV0IHBhcnRpY2xlID0gbmV3IFBhcnRpY2xlKG1vdXNlLngsIG1vdXNlLnksIHNpemUpXG4gICAgICAgICAgICBwYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSlcbiAgICAgICAgICAgIHBhcnRpY2xlQ29sb3JzLnB1c2gocGFydGljbGVDb2xvcilcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRvVmlld3NwYWNlKHYpIHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSBjYW52YXNXaWR0aFxuICAgICAgICAgICAgY29uc3QgaCA9IGNhbnZhc0hlaWdodFxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IC0xLjAgKyAoMiAqIHYueCkgLyB3IC8gZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICB5OiAxLjAgLSAoMiAqIHYueSkgLyBoIC8gZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFBhcnRpY2xlU2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNsZVNpemUgKiBkZXZpY2VQaXhlbFJhdGlvXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgICAgICAgICAgdXBkYXRlVmFsdWVzKClcblxuICAgICAgICAgICAgZ2wuY2xlYXJDb2xvcihiYWNrQ29sb3IuciwgYmFja0NvbG9yLmcsIGJhY2tDb2xvci5iLCAxLjApXG4gICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKVxuXG4gICAgICAgICAgICBjb25zdCB0aW1lID0gZ2V0VGltZSgpXG4gICAgICAgICAgICBpZiAodXNlUXVhZHRyZWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWluID0gbmV3IHYyKDAsIDApXG4gICAgICAgICAgICAgICAgbGV0IG1heCA9IG5ldyB2MihjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KVxuXG4gICAgICAgICAgICAgICAgaWYgKHVzZU9wdGltaXplZEJvdW5kcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZ2V0TWluQW5kTWF4UG9zaXRpb24ocGFydGljbGVzKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSB0ZW1wLm1pblxuICAgICAgICAgICAgICAgICAgICBtYXggPSB0ZW1wLm1heFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHF1YWR0cmVlQm91bmRzID0gbmV3IFJlY3QobWluLCBtYXgpXG4gICAgICAgICAgICAgICAgY29uc3QgcXVhZHRyZWUgPSBuZXcgUXVhZHRyZWUoMCwgcXVhZHRyZWVCb3VuZHMpXG5cbiAgICAgICAgICAgICAgICBxdWFkdHJlZS5pbnB1dChwYXJ0aWNsZXMpXG5cbiAgICAgICAgICAgICAgICBhbGxCb3VuZHMgPSBbXVxuICAgICAgICAgICAgICAgIHF1YWR0cmVlLmdldE5vZGVzQm91bmRzKGFsbEJvdW5kcylcblxuICAgICAgICAgICAgICAgIHRyZWUgPSBbXVxuICAgICAgICAgICAgICAgIHF1YWR0cmVlLmdldEluZGljZXModHJlZSlcblxuICAgICAgICAgICAgICAgIGlmIChzaG93Tm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBib3VuZCBvZiBhbGxCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBib3VuZC5taW4ueFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IGJvdW5kLm1pbi55XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IGJvdW5kLm1heC54IC0gYm91bmQubWluLnggLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBib3VuZC5tYXgueSAtIGJvdW5kLm1pbi55IC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0hvbGxvd1JlY3RSYW5nZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdjIoeCwgeSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHYyKHggKyB3aWR0aCwgeSArIGhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyICogZGV2aWNlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT25seSBkcmF3IHRoZSBuZWlnaGJvdXJzIGlmIHRoZSBhcHBcbiAgICAgICAgICAgICAgICAvLyBpcyBpbiBmb2N1cy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlIHJlZ2lvblxuICAgICAgICAgICAgICAgIC8vIHRoZSBtb3VzZSB3aWxsIGJlIHN0dWNrIGluIHRoZSBsYXN0IHBsYWNlIGFuZFxuICAgICAgICAgICAgICAgIC8vIGRpc3RyYWN0IHRoZSB1c2VyLlxuICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkICYmIHNob3dOZWlnaGJvdXJzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5laWdoYm91cnMgPSBbXVxuICAgICAgICAgICAgICAgICAgICBxdWFkdHJlZS5nZXROZWlnaGJvdXJOb2RlcyhuZWlnaGJvdXJzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbW91c2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGdldFBhcnRpY2xlU2l6ZSgpLFxuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIERyYXcgYWxsIG5laWdoYm91cnMgaW4gYSBoaWdobGlnaHQgY29sb3IuXG4gICAgICAgICAgICAgICAgICAgIG5laWdoYm91cnMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kID0gbm9kZS5ib3VuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBib3VuZC5taW4ueFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IGJvdW5kLm1pbi55XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IGJvdW5kLm1heC54IC0gYm91bmQubWluLnggLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBib3VuZC5tYXgueSAtIGJvdW5kLm1pbi55IC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0hvbGxvd1JlY3RSYW5nZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdjIoeCwgeSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHYyKHggKyB3aWR0aCwgeSArIGhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzSGlnaGxpZ2h0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAqIGRldmljZVBpeGVsUmF0aW9cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERyYXcgdGhlIHBhcnRpY2xlc1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbmRpY2VzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlQ29sb3JzW2luZGV4XSA9IGJvdW5kc0hpZ2hsaWdodENvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVuYWJsZUNvbGxpc2lvbikge1xuICAgICAgICAgICAgICAgIGxldCByZXNcbiAgICAgICAgICAgICAgICBpZiAodXNlUXVhZHRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzb2x2ZUNvbGxpc2lvbnNRdWFkdHJlZShwYXJ0aWNsZXMsIHRyZWUpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzb2x2ZUNvbGxpc2lvbnMocGFydGljbGVzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21wYXJpc29ucyA9IHJlcy5jb21wYXJpc29uc1xuICAgICAgICAgICAgICAgIGhpdHMgPSByZXMuaGl0c1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXBhdXNlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyYXZpdHlZID0gZW5hYmxlR3Jhdml0eSA/IDAuMDk4MSA6IDAuMFxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBhcnRpY2xlIG9mIHBhcnRpY2xlcykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS51cGRhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNhbnZhc1dpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2FudmFzSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgeDogMC4wLCB5OiBncmF2aXR5WSB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRyYXdBbGxQYXJ0aWNsZXMoKVxuICAgICAgICAgICAgZHJhdygpXG4gICAgICAgICAgICBkcmF3VUkoKVxuXG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlTaXplID0gbmV3IHYyKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpXG5cbiAgICAgICAgICAgIC8vIFNldHVwIHZpZXdwb3J0LCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpXG4gICAgICAgICAgICBjb25zdCBvcnRob19wcm9qZWN0aW9uID0gbWF0NC5mcm9tVmFsdWVzKFxuICAgICAgICAgICAgICAgIDIuMCAvIGRpc3BsYXlTaXplLngsXG4gICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgICAgICAwLjAsXG4gICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgICAgIDIuMCAvIC1kaXNwbGF5U2l6ZS55LFxuICAgICAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgICAgICAwLjAsXG4gICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgICAgICAtMS4wLFxuICAgICAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgICAgICAtMS4wLFxuICAgICAgICAgICAgICAgIDEuMCxcbiAgICAgICAgICAgICAgICAwLjAsXG4gICAgICAgICAgICAgICAgMS4wXG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSlcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYoZ0F0dHJpYkxvY2F0aW9uUHJvak10eCwgZ2wuRkFMU0UsIG9ydGhvX3Byb2plY3Rpb24pXG4gICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKVxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZibylcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoXG4gICAgICAgICAgICAgICAgZ2wuQVJSQVlfQlVGRkVSLFxuICAgICAgICAgICAgICAgIG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpLFxuICAgICAgICAgICAgICAgIGdsLkRZTkFNSUNfRFJBV1xuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAvLyBGaW5hbGx5IGRyYXcgdGhlIHZlcnRpY2VzXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgdmVydGljZXMubGVuZ3RoIC8gNilcblxuICAgICAgICAgICAgdmVydGljZXMgPSBbXVxuICAgICAgICAgICAgdXBkYXRlRlBTKClcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVGUFMoKSB7XG4gICAgICAgICAgICBsYXN0RnBzID0gMSAvIChnZXRUaW1lKCkgLSBsYXN0VGltZSlcbiAgICAgICAgICAgIGxhc3RUaW1lID0gZ2V0VGltZSgpXG4gICAgICAgICAgICBsYXN0RnBzID0gbGFzdEZwcy50b0ZpeGVkKDApXG4gICAgICAgIH1cblxuICAgICAgICBhbmltYXRlKClcbiAgICB9KTtcbjwvc2NyaXB0PlxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgbWF0NCB7XG4gICAgc3RhdGljIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gICAgICAgIGxldCBvdXQgPSBbXVxuICAgICAgICBvdXRbMF0gPSBtMDA7XG4gICAgICAgIG91dFsxXSA9IG0wMTtcbiAgICAgICAgb3V0WzJdID0gbTAyO1xuICAgICAgICBvdXRbM10gPSBtMDM7XG4gICAgICAgIG91dFs0XSA9IG0xMDtcbiAgICAgICAgb3V0WzVdID0gbTExO1xuICAgICAgICBvdXRbNl0gPSBtMTI7XG4gICAgICAgIG91dFs3XSA9IG0xMztcbiAgICAgICAgb3V0WzhdID0gbTIwO1xuICAgICAgICBvdXRbOV0gPSBtMjE7XG4gICAgICAgIG91dFsxMF0gPSBtMjI7XG4gICAgICAgIG91dFsxMV0gPSBtMjM7XG4gICAgICAgIG91dFsxMl0gPSBtMzA7XG4gICAgICAgIG91dFsxM10gPSBtMzE7XG4gICAgICAgIG91dFsxNF0gPSBtMzI7XG4gICAgICAgIG91dFsxNV0gPSBtMzM7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHYyIGZyb20gJy4vdjInXG5pbXBvcnQgdjQgZnJvbSAnLi92NCdcbmltcG9ydCBtYXQ0IGZyb20gJy4vbWF0NCdcbmV4cG9ydCB7IHYyLCB2NCwgbWF0NCB9XG4iLCJpbXBvcnQgeyB2MiB9IGZyb20gJy4vbWF0aCdcbmltcG9ydCB7IHJhbmRvbSB9IGZyb20gJy4vdXRpbGl0eSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydGljbGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHIpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyB2Mih4LCB5KVxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gbmV3IHYyKHJhbmRvbSgtMSwgMSksIHJhbmRvbSgtMSwgMSkpLnNjYWxlKDIpXG4gICAgICAgIHRoaXMucmFkaXVzID0gclxuICAgICAgICB0aGlzLm1hc3MgPSByXG4gICAgfVxuXG4gICAgdXBkYXRlKGJvdW5kcywgZ3Jhdml0eSkge1xuICAgICAgICAvLyBCb3JkZXIgY29sbGlzaW9uXG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnggPD0gdGhpcy5yYWRpdXMgJiYgdGhpcy52ZWxvY2l0eS54IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdGhpcy5yYWRpdXNcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkueCA9IC10aGlzLnZlbG9jaXR5LnhcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPj0gYm91bmRzLndpZHRoIC0gdGhpcy5yYWRpdXMgJiZcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkueCA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBib3VuZHMud2lkdGggLSB0aGlzLnJhZGl1c1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS54ID0gLXRoaXMudmVsb2NpdHkueFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgPD0gdGhpcy5yYWRpdXMgJiYgdGhpcy52ZWxvY2l0eS55IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdGhpcy5yYWRpdXNcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkueSA9IC10aGlzLnZlbG9jaXR5LnlcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPj0gYm91bmRzLmhlaWdodCAtIHRoaXMucmFkaXVzICYmXG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LnkgPiAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gYm91bmRzLmhlaWdodCAtIHRoaXMucmFkaXVzXG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LnkgPSAtdGhpcy52ZWxvY2l0eS55XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZWxvY2l0eS5hZGQoZ3Jhdml0eSlcbiAgICAgICAgdGhpcy5wb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eSlcbiAgICB9XG5cbiAgICBjb2xsaWRlc1dpdGgoYikge1xuICAgICAgICBjb25zdCBkeCA9IGIucG9zaXRpb24ueCAtIHRoaXMucG9zaXRpb24ueFxuICAgICAgICBjb25zdCBkeSA9IGIucG9zaXRpb24ueSAtIHRoaXMucG9zaXRpb24ueVxuICAgICAgICBjb25zdCBzdW1SYWRpdXMgPSB0aGlzLnJhZGl1cyArIGIucmFkaXVzXG4gICAgICAgIGNvbnN0IHNxclJhZGl1cyA9IHN1bVJhZGl1cyAqIHN1bVJhZGl1c1xuICAgICAgICBjb25zdCBkaXN0U3FyID0gZHggKiBkeCArIGR5ICogZHlcbiAgICAgICAgaWYgKGRpc3RTcXIgPD0gc3FyUmFkaXVzKSByZXR1cm4gdHJ1ZVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXNvbHZlQ29sbGlzaW9uKGIpIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG0xID0gdGhpcy5tYXNzXG4gICAgICAgIGNvbnN0IG0yID0gYi5tYXNzXG4gICAgICAgIGNvbnN0IGR4ID0gYi5wb3NpdGlvbi54IC0gdGhpcy5wb3NpdGlvbi54XG4gICAgICAgIGNvbnN0IGR5ID0gYi5wb3NpdGlvbi55IC0gdGhpcy5wb3NpdGlvbi55XG4gICAgICAgIGNvbnN0IHZkeCA9IGIudmVsb2NpdHkueCAtIHRoaXMudmVsb2NpdHkueFxuICAgICAgICBjb25zdCB2ZHkgPSBiLnZlbG9jaXR5LnkgLSB0aGlzLnZlbG9jaXR5LnlcbiAgICAgICAgY29uc3QgZCA9IGR4ICogdmR4ICsgZHkgKiB2ZHlcblxuICAgICAgICBpZiAoZCA8IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1fdmVjID0gbmV3IHYyKGR4LCBkeSkubm9ybWFsaXplKClcbiAgICAgICAgICAgIGNvbnN0IHRhbmdfdmVjID0gbmV3IHYyKG5vcm1fdmVjLnkgKiAtMS4wLCBub3JtX3ZlYy54KVxuICAgICAgICAgICAgY29uc3Qgc2NhbF9ub3JtXzEgPSB2Mi5kb3Qobm9ybV92ZWMsIHRoaXMudmVsb2NpdHkpXG4gICAgICAgICAgICBjb25zdCBzY2FsX25vcm1fMiA9IHYyLmRvdChub3JtX3ZlYywgYi52ZWxvY2l0eSlcbiAgICAgICAgICAgIGNvbnN0IHNjYWxfdGFuZ18xID0gdjIuZG90KHRhbmdfdmVjLCB0aGlzLnZlbG9jaXR5KVxuICAgICAgICAgICAgY29uc3Qgc2NhbF90YW5nXzIgPSB2Mi5kb3QodGFuZ192ZWMsIGIudmVsb2NpdHkpXG4gICAgICAgICAgICBjb25zdCBzY2FsX25vcm1fMV9hZnRlciA9IChzY2FsX25vcm1fMSAqIChtMSAtIG0yKSArIDIgKiBtMiAqIHNjYWxfbm9ybV8yKSAvIChtMSArIG0yKVxuICAgICAgICAgICAgY29uc3Qgc2NhbF9ub3JtXzJfYWZ0ZXIgPSAoc2NhbF9ub3JtXzIgKiAobTIgLSBtMSkgKyAyICogbTEgKiBzY2FsX25vcm1fMSkgLyAobTEgKyBtMilcbiAgICAgICAgICAgIGNvbnN0IHNjYWxfbm9ybV8xX2FmdGVyX3ZlYyA9IHYyLnNjYWxlKG5vcm1fdmVjLCBzY2FsX25vcm1fMV9hZnRlcilcbiAgICAgICAgICAgIGNvbnN0IHNjYWxfbm9ybV8yX2FmdGVyX3ZlYyA9IHYyLnNjYWxlKG5vcm1fdmVjLCBzY2FsX25vcm1fMl9hZnRlcilcbiAgICAgICAgICAgIGNvbnN0IHNjYWxfbm9ybV8xX3ZlYyA9IHYyLnNjYWxlKHRhbmdfdmVjLCBzY2FsX3RhbmdfMSlcbiAgICAgICAgICAgIGNvbnN0IHNjYWxfbm9ybV8yX3ZlYyA9IHYyLnNjYWxlKHRhbmdfdmVjLCBzY2FsX3RhbmdfMilcblxuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHNjYWxfbm9ybV8xX3ZlYy5hZGQoc2NhbF9ub3JtXzFfYWZ0ZXJfdmVjKVxuICAgICAgICAgICAgYi52ZWxvY2l0eSA9IHNjYWxfbm9ybV8yX3ZlYy5hZGQoc2NhbF9ub3JtXzJfYWZ0ZXJfdmVjKVxuICAgICAgICB9XG4gICAgfVxufVxuIiwibGV0IGRhdGEgPSBbXVxuXG5pbXBvcnQgeyB2MiB9IGZyb20gJy4vbWF0aCdcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuL3V0aWxpdHknXG5cbmNvbnN0IERFRkFVTFRfTUFYX05PREVfQ0FQQUNJVFkgPSAxMFxuY29uc3QgREVGQVVMVF9NQVhfTk9ERV9ERVBUSCA9IDVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVhZHRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGRlcHRoLCBib3VuZHMpIHtcbiAgICAgICAgdGhpcy5tYXhDYXBhY2l0eVBlck5vZGUgPSBERUZBVUxUX01BWF9OT0RFX0NBUEFDSVRZXG4gICAgICAgIHRoaXMubWF4RGVwdGggPSBERUZBVUxUX01BWF9OT0RFX0RFUFRIXG4gICAgICAgIHRoaXMuZGVwdGggPSBkZXB0aFxuICAgICAgICB0aGlzLmJvdW5kcyA9IGJvdW5kc1xuICAgICAgICB0aGlzLnN1Ym5vZGVzID0gWzRdXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IFtdXG4gICAgICAgIHRoaXMuaGFzU3BsaXQgPSBmYWxzZVxuICAgIH1cblxuICAgIHZpc2l0KGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc1NwbGl0KSB7XG4gICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzBdLnZpc2l0KGNhbGxiYWNrKVxuICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1sxXS52aXNpdChjYWxsYmFjaylcbiAgICAgICAgICAgIHRoaXMuc3Vibm9kZXNbMl0udmlzaXQoY2FsbGJhY2spXG4gICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzNdLnZpc2l0KGNhbGxiYWNrKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRoaXMpXG4gICAgfVxuXG4gICAgc3BsaXQoKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuYm91bmRzLm1pblxuICAgICAgICBjb25zdCBtYXggPSB0aGlzLmJvdW5kcy5tYXhcbiAgICAgICAgY29uc3QgeCA9IG1pbi54XG4gICAgICAgIGNvbnN0IHkgPSBtaW4ueVxuICAgICAgICBjb25zdCB3aWR0aCA9IG1heC54IC0gbWluLnhcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gbWF4LnkgLSBtaW4ueVxuICAgICAgICBjb25zdCB3ID0gd2lkdGggKiAwLjVcbiAgICAgICAgY29uc3QgaCA9IGhlaWdodCAqIDAuNVxuICAgICAgICBjb25zdCBTVyA9IG5ldyBSZWN0KG5ldyB2Mih4LCB5KSwgbmV3IHYyKHggKyB3LCB5ICsgaCkpXG4gICAgICAgIGNvbnN0IFNFID0gbmV3IFJlY3QobmV3IHYyKHggKyB3LCB5KSwgbmV3IHYyKHggKyB3aWR0aCwgeSArIGgpKVxuICAgICAgICBjb25zdCBOVyA9IG5ldyBSZWN0KG5ldyB2Mih4LCB5ICsgaCksIG5ldyB2Mih4ICsgdywgeSArIGhlaWdodCkpXG4gICAgICAgIGNvbnN0IE5FID0gbmV3IFJlY3QobmV3IHYyKHggKyB3LCB5ICsgaCksIG5ldyB2Mih4ICsgd2lkdGgsIHkgKyBoZWlnaHQpKVxuICAgICAgICB0aGlzLnN1Ym5vZGVzWzBdID0gbmV3IFF1YWR0cmVlKHRoaXMuZGVwdGggKyAxLCBTVylcbiAgICAgICAgdGhpcy5zdWJub2Rlc1sxXSA9IG5ldyBRdWFkdHJlZSh0aGlzLmRlcHRoICsgMSwgU0UpXG4gICAgICAgIHRoaXMuc3Vibm9kZXNbMl0gPSBuZXcgUXVhZHRyZWUodGhpcy5kZXB0aCArIDEsIE5XKVxuICAgICAgICB0aGlzLnN1Ym5vZGVzWzNdID0gbmV3IFF1YWR0cmVlKHRoaXMuZGVwdGggKyAxLCBORSlcbiAgICAgICAgdGhpcy5oYXNTcGxpdCA9IHRydWVcbiAgICB9XG5cbiAgICBpbnB1dChvYmplY3RzKSB7XG4gICAgICAgIGRhdGEgPSBvYmplY3RzXG4gICAgICAgIGNvbnN0IG9iamVjdENvdW50ID0gZGF0YS5sZW5ndGhcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3RDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydChpKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGFpbnMoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmRzLmNvbnRhaW5zUG9pbnQoXG4gICAgICAgICAgICBkYXRhW2luZGV4XS5wb3NpdGlvbixcbiAgICAgICAgICAgIGRhdGFbaW5kZXhdLnJhZGl1c1xuICAgICAgICApXG4gICAgfVxuXG4gICAgaW5zZXJ0KGluZGV4KSB7XG4gICAgICAgIC8vIElmIHRoaXMgbm9kZSBoYXMgc3BsaXQgYWRkIGl0IHRvIHRoZSBjaGlsZHJlbiBpbnN0ZWFkXG4gICAgICAgIGlmICh0aGlzLmhhc1NwbGl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJub2Rlc1swXS5jb250YWlucyhpbmRleCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzBdLmluc2VydChpbmRleClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN1Ym5vZGVzWzFdLmNvbnRhaW5zKGluZGV4KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vibm9kZXNbMV0uaW5zZXJ0KGluZGV4KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Vibm9kZXNbMl0uY29udGFpbnMoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1syXS5pbnNlcnQoaW5kZXgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJub2Rlc1szXS5jb250YWlucyhpbmRleCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzNdLmluc2VydChpbmRleClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIC8vIC4uIGVsc2UgYWRkIGl0IGhlcmUuXG4gICAgICAgIHRoaXMuaW5kaWNlcy5wdXNoKGluZGV4KVxuICAgICAgICAvLyBUaGVuIGlmIHdlJ3ZlIHJlYWNoZWQgb3VyIG1heCBjYXBhY2l0eS4uXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPiB0aGlzLm1heENhcGFjaXR5UGVyTm9kZSAmJlxuICAgICAgICAgICAgdGhpcy5kZXB0aCA8IHRoaXMubWF4RGVwdGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyAuLnNwbGl0Li5cbiAgICAgICAgICAgIHRoaXMuc3BsaXQoKVxuICAgICAgICAgICAgLy8gIC4uYW5kIG1vdmUgdGhlIGluZGljZXMgZnJvbSB0aGlzIG5vZGUgdG8gdGhlIG5ldyBvbmVzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5pbmRpY2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vibm9kZXNbMF0uY29udGFpbnMoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1swXS5pbnNlcnQoaSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vibm9kZXNbMV0uY29udGFpbnMoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1sxXS5pbnNlcnQoaSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vibm9kZXNbMl0uY29udGFpbnMoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1syXS5pbnNlcnQoaSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vibm9kZXNbM10uY29udGFpbnMoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1szXS5pbnNlcnQoaSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLiBhbmQgY2xlYXIgdGhpcyBvbmUgb3V0XG4gICAgICAgICAgICB0aGlzLmluZGljZXMgPSBbXVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SW5kaWNlcyhub2Rlcykge1xuICAgICAgICBpZiAodGhpcy5oYXNTcGxpdCkge1xuICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1swXS5nZXRJbmRpY2VzKG5vZGVzKVxuICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1sxXS5nZXRJbmRpY2VzKG5vZGVzKVxuICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1syXS5nZXRJbmRpY2VzKG5vZGVzKVxuICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1szXS5nZXRJbmRpY2VzKG5vZGVzKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5kaWNlcy5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgbm9kZXMucHVzaCh0aGlzLmluZGljZXMpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROZWlnaGJvdXJzKG5vZGVzLCBvYmplY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzU3BsaXQpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzBdLmJvdW5kcy5jb250YWluc1BvaW50KFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5yYWRpdXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzBdLmdldE5laWdoYm91cnMobm9kZXMsIG9iamVjdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzFdLmJvdW5kcy5jb250YWluc1BvaW50KFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5yYWRpdXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzFdLmdldE5laWdoYm91cnMobm9kZXMsIG9iamVjdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzJdLmJvdW5kcy5jb250YWluc1BvaW50KFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5yYWRpdXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzJdLmdldE5laWdoYm91cnMobm9kZXMsIG9iamVjdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzNdLmJvdW5kcy5jb250YWluc1BvaW50KFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5yYWRpdXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzNdLmdldE5laWdoYm91cnMobm9kZXMsIG9iamVjdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGljZXMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgIG5vZGVzLnB1c2godGhpcy5pbmRpY2VzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TmVpZ2hib3VyTm9kZXMobm9kZXMsIG9iamVjdCkge1xuICAgICAgICBpZiAodGhpcy5oYXNTcGxpdCkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuc3Vibm9kZXNbMF0uYm91bmRzLmNvbnRhaW5zUG9pbnQoXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnJhZGl1c1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzBdLmdldE5laWdoYm91ck5vZGVzKG5vZGVzLCBvYmplY3QpXG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzFdLmJvdW5kcy5jb250YWluc1BvaW50KFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5yYWRpdXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1sxXS5nZXROZWlnaGJvdXJOb2Rlcyhub2Rlcywgb2JqZWN0KVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1syXS5ib3VuZHMuY29udGFpbnNQb2ludChcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QucmFkaXVzXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHRoaXMuc3Vibm9kZXNbMl0uZ2V0TmVpZ2hib3VyTm9kZXMobm9kZXMsIG9iamVjdClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzNdLmJvdW5kcy5jb250YWluc1BvaW50KFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5yYWRpdXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1szXS5nZXROZWlnaGJvdXJOb2Rlcyhub2Rlcywgb2JqZWN0KVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbm9kZXMucHVzaCh0aGlzKVxuICAgIH1cblxuICAgIGdldE5vZGVzQm91bmRzKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAodGhpcy5oYXNTcGxpdCkge1xuICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1swXS5nZXROb2Rlc0JvdW5kcyhjb250YWluZXIpXG4gICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzFdLmdldE5vZGVzQm91bmRzKGNvbnRhaW5lcilcbiAgICAgICAgICAgIHRoaXMuc3Vibm9kZXNbMl0uZ2V0Tm9kZXNCb3VuZHMoY29udGFpbmVyKVxuICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1szXS5nZXROb2Rlc0JvdW5kcyhjb250YWluZXIpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucHVzaCh0aGlzLmJvdW5kcylcbiAgICB9XG5cbiAgICBjb2xvck5laWdoYm91cnMocG9zaXRpb24sIHJhZGl1cywgY29sb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzU3BsaXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1Ym5vZGVzWzBdLmJvdW5kcy5jb250YWluc1BvaW50KHBvc2l0aW9uLCByYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1swXS5jb2xvck5laWdoYm91cnMocG9zaXRpb24sIHJhZGl1cywgY29sb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJub2Rlc1sxXS5ib3VuZHMuY29udGFpbnNQb2ludChwb3NpdGlvbiwgcmFkaXVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vibm9kZXNbMV0uY29sb3JOZWlnaGJvdXJzKHBvc2l0aW9uLCByYWRpdXMsIGNvbG9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Vibm9kZXNbMl0uYm91bmRzLmNvbnRhaW5zUG9pbnQocG9zaXRpb24sIHJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym5vZGVzWzJdLmNvbG9yTmVpZ2hib3Vycyhwb3NpdGlvbiwgcmFkaXVzLCBjb2xvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN1Ym5vZGVzWzNdLmJvdW5kcy5jb250YWluc1BvaW50KHBvc2l0aW9uLCByYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJub2Rlc1szXS5jb2xvck5laWdoYm91cnMocG9zaXRpb24sIHJhZGl1cywgY29sb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdW5kcy5jb2xvciA9IGNvbG9yXG4gICAgfVxufVxuIiwiLyoqXG4gKiAgU2hvcnRoYW5kIHN5bnRheCBmb3IgZ2V0dGluZyBlbGVtZW50cyBmcm9tIHRoZSBET00uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IC0gUHJlZml4IElEcywgY2xhc3NlcywgZWxlbWVudHMgd2l0aCAnIyAuIDwnIHJlc3BlY3Rpdmx5LlxuICogQHJldHVybnMgeyhIVE1MRWxlbWVudHxIVE1MRWxlbWVudFtdfE5vZGVMaXN0T2Y8RWxlbWVudD4pfSBSZXR1cm5zIGVsZW1lbnQgaWYgJ0lEJyBvdGhlcndpc2UgYW4gYXJyYXkgb2YgZWxlbWVudHMuXG4gKi9cbmNvbnN0IGpxID0gcXVlcnkgPT5cbiAgICBxdWVyeVswXSA9PT0gJyMnXG4gICAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocXVlcnkuc2xpY2UoMSwgcXVlcnkubGVuZ3RoKSlcbiAgICAgICAgOiBxdWVyeVswXSA9PT0gJy4nXG4gICAgICAgID8gWy4uLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocXVlcnkuc2xpY2UoMSwgcXVlcnkubGVuZ3RoKSldXG4gICAgICAgIDogcXVlcnlbMF0gPT09ICc8J1xuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocXVlcnkuc2xpY2UoMSwgcXVlcnkubGVuZ3RoIC0gMSkpXG4gICAgICAgIDogWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpXVxuZXhwb3J0IGRlZmF1bHQganFcbiIsImltcG9ydCB7IHYyIH0gZnJvbSAnLi9tYXRoJ1xuaW1wb3J0IGpxIGZyb20gJy4vcXVlcnknXG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBwb3NpdGlvbiBmb3VuZC5cbiAqIEBwYXJhbSB7T2JqZWN0W119IG9iamVjdHMgLSBBbiBhcnJheSBvZiBvYmplY3RzIHdpdGggYSAncG9zJyBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHttaW4sIG1heH0tIEFuIG9iamVjdCB3aXRoIGEgJ21pbicgYW5kICdtYXgnIHByb3BlcnR5LlxuICovXG5leHBvcnQgY29uc3QgZ2V0TWluQW5kTWF4UG9zaXRpb24gPSBvYmplY3RzID0+IHtcbiAgICBsZXQgbWluID0gbmV3IHYyKDEwMDAwLCAxMDAwMClcbiAgICBsZXQgbWF4ID0gbmV3IHYyKC0xMDAwMCwgLTEwMDAwKVxuXG4gICAgZm9yIChjb25zdCBvYmplY3Qgb2Ygb2JqZWN0cykge1xuICAgICAgICBjb25zdCBwb3MgPSBvYmplY3QucG9zaXRpb25cblxuICAgICAgICBpZiAocG9zLnggPiBtYXgueCkgbWF4LnggPSBwb3MueFxuICAgICAgICBlbHNlIGlmIChwb3MueCA8IG1pbi54KSBtaW4ueCA9IHBvcy54XG5cbiAgICAgICAgaWYgKHBvcy55ID4gbWF4LnkpIG1heC55ID0gcG9zLnlcbiAgICAgICAgZWxzZSBpZiAocG9zLnkgPCBtaW4ueSkgbWluLnkgPSBwb3MueVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heCxcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihtaW4gPSBuZXcgdjIoMCwgMCksIG1heCA9IG5ldyB2MigwLCAwKSkge1xuICAgICAgICB0aGlzLm1pbiA9IG1pblxuICAgICAgICB0aGlzLm1heCA9IG1heFxuICAgICAgICB0aGlzLmNvbG9yID0ge1xuICAgICAgICAgICAgcjogMS4wLFxuICAgICAgICAgICAgZzogMS4wLFxuICAgICAgICAgICAgYjogMS4wLFxuICAgICAgICAgICAgYTogMS4wLFxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5zUG9pbnQocG9zaXRpb24sIHJhZGl1cykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBwb3NpdGlvbi54IC0gcmFkaXVzIDwgdGhpcy5tYXgueCAmJlxuICAgICAgICAgICAgcG9zaXRpb24ueCArIHJhZGl1cyA+IHRoaXMubWluLnggJiZcbiAgICAgICAgICAgIHBvc2l0aW9uLnkgLSByYWRpdXMgPCB0aGlzLm1heC55ICYmXG4gICAgICAgICAgICBwb3NpdGlvbi55ICsgcmFkaXVzID4gdGhpcy5taW4ueVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxufVxuXG5jb25zdCBodWUycmdiID0gKHAsIHEsIHQpID0+IHtcbiAgICBpZiAodCA8IDApIHQgKz0gMVxuICAgIGlmICh0ID4gMSkgdCAtPSAxXG4gICAgaWYgKHQgPCAxIC8gNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHRcbiAgICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcVxuICAgIGlmICh0IDwgMiAvIDMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNlxuICAgIHJldHVybiBwXG59XG5cbmV4cG9ydCBjb25zdCBIU0xzdHJpbmdUb1JHQiA9IGhzbCA9PiB7XG4gICAgY29uc3QgcmVnZXhwID0gL2hzbFxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPyUpXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8lKVxcKS9nXG4gICAgbGV0IHJlcyA9IHJlZ2V4cC5leGVjKGhzbCkuc2xpY2UoMSlcbiAgICByZXNbMF0gPSBwYXJzZUludChyZXNbMF0pXG4gICAgcmVzWzFdID0gcGFyc2VJbnQocmVzWzFdLnNsaWNlKDAsIHJlc1sxXS5sZW5ndGggLSAxKSlcbiAgICByZXNbMl0gPSBwYXJzZUludChyZXNbMl0uc2xpY2UoMCwgcmVzWzJdLmxlbmd0aCAtIDEpKVxuICAgIGNvbnN0IHJnYiA9IEhTTHRvUkdCKHJlc1swXSwgcmVzWzFdLCByZXNbMl0pXG4gICAgcmV0dXJuIHsgcjogcmdiLnIgKiAyNTUsIGc6IHJnYi5nICogMjU1LCBiOiByZ2IuYiAqIDI1NSB9XG59XG5cbmV4cG9ydCBjb25zdCBIU0x0b1JHQiA9IChoLCBzLCBsKSA9PiB7XG4gICAgdmFyIHIsIGcsIGIsIG0sIGMsIHhcblxuICAgIGlmICghaXNGaW5pdGUoaCkpIGggPSAwXG4gICAgaWYgKCFpc0Zpbml0ZShzKSkgcyA9IDBcbiAgICBpZiAoIWlzRmluaXRlKGwpKSBsID0gMFxuXG4gICAgaCAvPSA2MFxuICAgIGlmIChoIDwgMCkgaCA9IDYgLSAoLWggJSA2KVxuICAgIGggJT0gNlxuXG4gICAgcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHMgLyAxMDApKVxuICAgIGwgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBsIC8gMTAwKSlcblxuICAgIGMgPSAoMSAtIE1hdGguYWJzKDIgKiBsIC0gMSkpICogc1xuICAgIHggPSBjICogKDEgLSBNYXRoLmFicygoaCAlIDIpIC0gMSkpXG5cbiAgICBpZiAoaCA8IDEpIHtcbiAgICAgICAgciA9IGNcbiAgICAgICAgZyA9IHhcbiAgICAgICAgYiA9IDBcbiAgICB9IGVsc2UgaWYgKGggPCAyKSB7XG4gICAgICAgIHIgPSB4XG4gICAgICAgIGcgPSBjXG4gICAgICAgIGIgPSAwXG4gICAgfSBlbHNlIGlmIChoIDwgMykge1xuICAgICAgICByID0gMFxuICAgICAgICBnID0gY1xuICAgICAgICBiID0geFxuICAgIH0gZWxzZSBpZiAoaCA8IDQpIHtcbiAgICAgICAgciA9IDBcbiAgICAgICAgZyA9IHhcbiAgICAgICAgYiA9IGNcbiAgICB9IGVsc2UgaWYgKGggPCA1KSB7XG4gICAgICAgIHIgPSB4XG4gICAgICAgIGcgPSAwXG4gICAgICAgIGIgPSBjXG4gICAgfSBlbHNlIHtcbiAgICAgICAgciA9IGNcbiAgICAgICAgZyA9IDBcbiAgICAgICAgYiA9IHhcbiAgICB9XG5cbiAgICBtID0gbCAtIGMgLyAyXG4gICAgciArPSBtXG4gICAgZyArPSBtXG4gICAgYiArPSBtXG5cbiAgICByZXR1cm4geyByOiByLCBnOiBnLCBiOiBiIH1cbn1cblxuZXhwb3J0IGNvbnN0IEhTTHRvUkdCQSA9IChoLCBzLCBsKSA9PiB7XG4gICAgdmFyIHIsIGcsIGIsIG0sIGMsIHhcblxuICAgIGlmICghaXNGaW5pdGUoaCkpIGggPSAwXG4gICAgaWYgKCFpc0Zpbml0ZShzKSkgcyA9IDBcbiAgICBpZiAoIWlzRmluaXRlKGwpKSBsID0gMFxuXG4gICAgaCAvPSA2MFxuICAgIGlmIChoIDwgMCkgaCA9IDYgLSAoLWggJSA2KVxuICAgIGggJT0gNlxuXG4gICAgcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHMgLyAxMDApKVxuICAgIGwgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBsIC8gMTAwKSlcblxuICAgIGMgPSAoMSAtIE1hdGguYWJzKDIgKiBsIC0gMSkpICogc1xuICAgIHggPSBjICogKDEgLSBNYXRoLmFicygoaCAlIDIpIC0gMSkpXG5cbiAgICBpZiAoaCA8IDEpIHtcbiAgICAgICAgciA9IGNcbiAgICAgICAgZyA9IHhcbiAgICAgICAgYiA9IDBcbiAgICB9IGVsc2UgaWYgKGggPCAyKSB7XG4gICAgICAgIHIgPSB4XG4gICAgICAgIGcgPSBjXG4gICAgICAgIGIgPSAwXG4gICAgfSBlbHNlIGlmIChoIDwgMykge1xuICAgICAgICByID0gMFxuICAgICAgICBnID0gY1xuICAgICAgICBiID0geFxuICAgIH0gZWxzZSBpZiAoaCA8IDQpIHtcbiAgICAgICAgciA9IDBcbiAgICAgICAgZyA9IHhcbiAgICAgICAgYiA9IGNcbiAgICB9IGVsc2UgaWYgKGggPCA1KSB7XG4gICAgICAgIHIgPSB4XG4gICAgICAgIGcgPSAwXG4gICAgICAgIGIgPSBjXG4gICAgfSBlbHNlIHtcbiAgICAgICAgciA9IGNcbiAgICAgICAgZyA9IDBcbiAgICAgICAgYiA9IHhcbiAgICB9XG5cbiAgICBtID0gbCAtIGMgLyAyXG4gICAgciArPSBtXG4gICAgZyArPSBtXG4gICAgYiArPSBtXG5cbiAgICByZXR1cm4geyByOiByLCBnOiBnLCBiOiBiLCBhOiAxIH1cbn1cblxubGV0IGdTdGFydFRpbWUgPSAwXG5cbmV4cG9ydCBjb25zdCBnZXRUaW1lID0gKCkgPT4ge1xuICAgIHJldHVybiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBnU3RhcnRUaW1lKSAvIDEwMDBcbn1cblxuZXhwb3J0IGNvbnN0IGdldEV4dCA9IHN0ciA9PiB7XG4gICAgcmV0dXJuIHN0ci5zcGxpdCgnLicpLnBvcCgpXG59XG5cbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XG4gICAgICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgICAgICAgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4OFxuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNilcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgcmFuZG9tID0gKG1pbiwgbWF4KSA9PiB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pblxufVxuXG5leHBvcnQgY29uc3QgYWRkUHJvZ3Jlc3NCYXIgPSBvcHRpb25zID0+IHtcbiAgICBjb25zdCBiYXIgPSBqcSgnPGlucHV0PicpXG4gICAgYmFyLnR5cGUgPSAncmFuZ2UnXG4gICAgYmFyLmNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lIHx8ICdzbGlkZXInXG4gICAgYmFyLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBvcHRpb25zLnN0YXJ0aW5nVmFsdWUgfHwgNTApXG4gICAgYmFyLnNldEF0dHJpYnV0ZSgnbWluJywgb3B0aW9ucy5taW5WYWx1ZSB8fCAwKVxuICAgIGJhci5zZXRBdHRyaWJ1dGUoJ21heCcsIG9wdGlvbnMubWF4VmFsdWUgfHwgMTAwKVxuICAgIGJhci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9wdGlvbnMuY2FsbGJhY2spXG4gICAgb3B0aW9ucy5lbGVtZW50LmFwcGVuZENoaWxkKGJhcilcbn1cblxuZXhwb3J0IGNvbnN0IGFkZEJ1dHRvbiA9IG9wdGlvbnMgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBqcSgnPGJ1dHRvbj4nKVxuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBvcHRpb25zLmxhYmVsXG4gICAgZWxlbWVudC5pZCA9IG9wdGlvbnMuaWQgfHwgb3B0aW9ucy5sYWJlbFxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWUgfHwgJ2J0bidcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9ucy5jYWxsYmFjaylcbiAgICBqcShgIyR7b3B0aW9ucy5wYXJlbnR9YCkuYXBwZW5kQ2hpbGQoZWxlbWVudClcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIHYyIHtcbiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDApIHtcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSB5XG4gICAgfVxuICAgIG5lZygpIHtcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueFxuICAgICAgICB0aGlzLnkgPSAtdGhpcy55XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIGFkZCh2KSB7XG4gICAgICAgIHRoaXMueCArPSB2LnhcbiAgICAgICAgdGhpcy55ICs9IHYueVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBzdWIodikge1xuICAgICAgICB0aGlzLnggLT0gdi54XG4gICAgICAgIHRoaXMueSAtPSB2LnlcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgc2NhbGUodikge1xuICAgICAgICB0aGlzLnggKj0gdlxuICAgICAgICB0aGlzLnkgKj0gdlxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBkaXYodikge1xuICAgICAgICBpZiAodiAhPSAwKSB7XG4gICAgICAgICAgICB0aGlzLnggLz0gdlxuICAgICAgICAgICAgdGhpcy55IC89IHZcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBkb3Qodikge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55XG4gICAgfVxuICAgIGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRvdCh0aGlzKSlcbiAgICB9XG4gICAgbm9ybWFsaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXYodGhpcy5sZW5ndGgoKSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzdGFuY2UoYSwgYikge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KChiLnggLSBhLngpICogKGIueCAtIGEueCkgKyAoYi55IC0gYS55KSAqIChiLnkgLSBhLnkpKVxuICAgIH1cbiAgICBzdGF0aWMgbmVnKHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB2Migtdi54LCAtdi55KVxuICAgIH1cbiAgICBzdGF0aWMgYWRkKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB2MihhLnggKyBiLngsIGEueSArIGIueSlcbiAgICB9XG4gICAgc3RhdGljIGFkZHMoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IHYyKGEueCArIGIsIGEueSArIGIpXG4gICAgfVxuICAgIHN0YXRpYyBzdWIoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IHYyKGEueCAtIGIueCwgYS55IC0gYi55KVxuICAgIH1cbiAgICBzdGF0aWMgc3VicyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgdjIoYS54IC0gYiwgYS55IC0gYilcbiAgICB9XG4gICAgc3RhdGljIHNjYWxlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB2MihhLnggKiBiLCBhLnkgKiBiKVxuICAgIH1cbiAgICBzdGF0aWMgZGl2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB2MihhLnggLyBiLCBhLnkgLyBiKVxuICAgIH1cbiAgICBzdGF0aWMgZG90KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEueCAqIGIueCArIGEueSAqIGIueVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIHY0IHtcbiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMCkge1xuICAgICAgICB0aGlzLnggPSB4XG4gICAgICAgIHRoaXMueSA9IHlcbiAgICAgICAgdGhpcy56ID0gelxuICAgICAgICB0aGlzLncgPSB3XG4gICAgfVxuXG4gICAgUkdCQSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHRoaXMueCxcbiAgICAgICAgICAgIGc6IHRoaXMueSxcbiAgICAgICAgICAgIGI6IHRoaXMueixcbiAgICAgICAgICAgIGE6IHRoaXMudyxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZChiKSB7XG4gICAgICAgIHRoaXMueCArPSBiLnhcbiAgICAgICAgdGhpcy55ICs9IGIueVxuICAgICAgICB0aGlzLnogKz0gYi56XG4gICAgICAgIHRoaXMudyArPSBiLndcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBzdWIoYikge1xuICAgICAgICB0aGlzLnggLT0gYi54XG4gICAgICAgIHRoaXMueSAtPSBiLnlcbiAgICAgICAgdGhpcy56IC09IGIuelxuICAgICAgICB0aGlzLncgLT0gYi53XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIHNjYWxlKGIpIHtcbiAgICAgICAgdGhpcy54ICo9IGJcbiAgICAgICAgdGhpcy55ICo9IGJcbiAgICAgICAgdGhpcy56ICo9IGJcbiAgICAgICAgdGhpcy53ICo9IGJcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgc3RhdGljIHNjYWxlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB2NChhLnggKiBiLCBhLnkgKiBiLCBhLnogKiBiLCBhLncgKiBiKVxuICAgIH1cblxuICAgIHN0YXRpYyBhZGQoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IHY0KGEueCArIGIueCwgYS55ICsgYi55LCBhLnogKyBiLnosIGEudyArIGIudylcbiAgICB9XG5cbiAgICBzdGF0aWMgc3ViKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB2NChhLnggLSBiLngsIGEueSAtIGIueSwgYS56IC0gYi56LCBhLncgLSBiLncpXG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==